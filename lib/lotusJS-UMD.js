!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Lotus",[],e):"object"==typeof exports?exports.Lotus=e():t.Lotus=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=44)}([function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(26)),n(i(27)),n(i(2)),n(i(4)),n(i(46)),n(i(29)),n(i(47)),n(i(48)),n(i(49)),n(i(50)),n(i(28)),n(i(5)),n(i(51)),n(i(52)),n(i(53)),n(i(54)),n(i(30)),n(i(18)),n(i(10)),n(i(11)),n(i(31)),n(i(55)),n(i(56)),n(i(32)),n(i(57)),n(i(58)),n(i(33)),n(i(59)),n(i(9)),n(i(16)),n(i(15)),n(i(17)),n(i(34)),n(i(35)),n(i(36)),n(i(60))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.SkinPart=class extends n.Subject{constructor(t,e,i){super(),this._label=t,this._instance=e,this._attribute=i}get label(){return this._label}get element(){return this._instance[this._attribute]}set element(t){this._instance[this._attribute]=t,this.notify(t,"element")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(27),s=function(){function t(){this.observerHash={},this.binder=new n.Binder}return t.prototype.notify=function(t,e){this.observerHash.hasOwnProperty(e)&&null!=this.observerHash[e]&&null!=this.observerHash[e]&&this.observerHash[e].forEach(function(i){i.update(t,e)})},t.prototype.addObserver=function(t){this.observerHash.hasOwnProperty(t.chain)&&null!=this.observerHash[t.chain]&&null!=this.observerHash[t.chain]||(this.observerHash[t.chain]=[]),this.observerHash[t.chain].push(t)},t.prototype.removeObserver=function(t){if(!this.observerHash.hasOwnProperty(t.chain)||null==this.observerHash[t.chain]||null==this.observerHash[t.chain])throw"Property not found in registered observers";var e=this.observerHash[t.chain].length,i=this.observerHash[t.chain].indexOf(t,0);if(e>0&&i>-1&&i<this.observerHash[t.chain].length)switch(i){case 0:this.observerHash[t.chain].shift();break;case e-1:this.observerHash[t.chain].pop();break;default:var n=this.observerHash[t.chain].slice(0,i),s=this.observerHash[t.chain].slice(i+1);this.observerHash[t.chain]=n.concat(s)}},t.prototype.addProperty=function(t,e,i){if(Object.defineProperty)try{Object.defineProperty(this,t,{get:e,set:i,enumerable:!0})}catch(t){}else this.__defineGetter__&&(e&&this.__defineGetter__(t,e),i&&this.__defineGetter__(t,i))},t.prototype.addProperties=function(t){for(var e in t)t.hasOwnProperty(e)&&this.addProperty(e,t[e].get,t[e].set)},t}();e.Subject=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),s=i(38),r=i(6);class o extends n.Subject{constructor(){super(),this._ready=!1,this._id=Math.random(),this._skinParts=new s.SkinPartList,this._isValid=!1,this.validClass=null,this.invalidClass=null,n.ObjectUtils.mixin(n.EventDispatcher,o,this)}get element(){return this._element}set element(t){this._element=t,null!==this._element&&void 0!==this._element&&(this._element.getComponentInstance=this.getComponentInstance.bind(this)),this.notify(t,"element")}get context(){return this._context}set context(t){this._context=t,this.notify(t,"context")}get ready(){return this._ready}set ready(t){this._ready=t,this.notify(t,"ready")}get id(){return this._id}set id(t){this._id=t,this.notify(t,"id")}get skinParts(){return this._skinParts}set skinParts(t){this._skinParts=t,this.notify(t,"skinParts")}get isValid(){return this._isValid}set isValid(t){this._isValid=t,this.notify(t,"isValid"),this.isValid&&this.validClass?this.attachValidationClass(this.validClass,this.invalidClass):!this.isValid&&this.invalidClass&&this.attachValidationClass(this.invalidClass,this.validClass)}attachValidationClass(t,e){}init(){this.addAttributes(),this.defineSkinParts(),this.addSkinParts()}addAttributes(){for(let t=0;t<this.element.attributes.length;t++){let e=this.element.attributes[t];if(e.name.indexOf("attribute")>=0){let t=e.name.indexOf("attribute")+10,i=e.name.substring(t).replace(/-([a-z])/g,function(t){return t[1].toUpperCase()});this.getAllPropertyNames(this).indexOf(i)>=0&&(this[i]=e.value)}}}getAllPropertyNames(t,e=!0,i=!0){let n=[];do{if(e&&Object.getOwnPropertyNames(t).forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),!i)break;e=!0}while(t=Object.getPrototypeOf(t));return n}addSkinParts(){null!==this.element.getAttribute("data-skin-part")&&void 0!==this.element.getAttribute("data-skin-part")&&this.addSkinPart(this.element.getAttribute("data-skin-part"),this.element);let t=this.element.querySelectorAll("[data-skin-part]");for(let e=0;e<t.length;e++)this.addSkinPart(t[e].getAttribute("data-skin-part"),t[e])}addSkinPart(t,e){if(null===this.skinParts.skinPartsByLabel[t]||void 0===this.skinParts.skinPartsByLabel[t])return null;this.skinParts.skinPartsByLabel[t].element=e,this.onSkinPartAdded(t,this.skinParts.skinPartsByLabel[t].element)}onReady(){this.ready=!0,this.dispatch(new r.ComponentEvent(r.ComponentEvent.READY,{target:this}))}getComponentInstance(){return this}created(t){console.log("AbstractComponent.created called"),this.element=t,this.init(),this.onReady()}destroy(){this.removeEventListeners(),this.binder.unbindAll(),this.binder=null,this.element=null,this.id=null}defineSkinParts(){}onSkinPartAdded(t,e){}inserted(t){console.log("AbstractComponent.inserted called")}removed(t){console.log("AbstractComponent.removed called")}attributeChanged(t){console.log("AbstractComponent.attributeChanged called")}addEventListeners(){}removeEventListeners(){}}e.AbstractComponent=o},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),o=i(5),a=i(9),l=i(15),h=function(t){function e(i,n){void 0===n&&(n=!0);var s=t.call(this)||this;return s.aList=i||[],s.allowDuplicates=n,o.ObjectUtils.mixin(a.EventDispatcher,e,s),s}return s(e,t),Object.defineProperty(e.prototype,"length",{get:function(){return this.aList.length},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.aList.slice())},e.prototype.source=function(){return this.aList},e.prototype.allowInsert=function(t,e,i){var n=!0;return this.allowDuplicates||(null!=e&&null!=i&&t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&null!==e[t[i]]&&void 0!==e[t[i]]?n=!1:this.aList.indexOf(t)>=0&&(n=!1)),n},e.prototype.addItem=function(t,e,i){if(this.allowInsert(t,e,i)){var n=this.aList.push(t);return this.dispatch(new l.CollectionEvent(l.CollectionEvent.COLLECTION_CHANGE,{type:"add",item:t})),n}},e.prototype.addAll=function(t,e){for(var i=0;i<t.length;i++)t[i].hasOwnProperty("addItemAt")&&!isNaN(t[i].addItemAt)?this.insert(t[i].item,t[i].addItemAt,!0,null,null,e):this.addItem(t[i]);this.dispatch(new l.CollectionEvent(l.CollectionEvent.COLLECTION_CHANGE,{type:"addAll",items:t}))},e.prototype.getItemAt=function(t){return t>-1&&t<this.aList.length?this.aList[t]:void 0},e.prototype.clear=function(){this.aList=[],this.dispatch(new l.CollectionEvent(l.CollectionEvent.COLLECTION_CHANGE,{type:"removeAll"}))},e.prototype.clearHash=function(t){for(var e in t)t[e]=null,delete t[e]},e.prototype.removeItemFromHash=function(t,e){t[e]=null,delete t[e]},e.prototype.removeItemAt=function(t){var e=this.aList.length,i=this.getItemAt(t);if(e>0&&t>-1&&t<this.aList.length)switch(t){case 0:this.aList.shift();break;case e-1:this.aList.pop();break;default:var n=this.aList.slice(0,t),s=this.aList.slice(t+1);this.aList=n.concat(s)}this.dispatch(new l.CollectionEvent(l.CollectionEvent.COLLECTION_CHANGE,{type:"remove",item:i}))},e.prototype.insert=function(t,e,i,n,s,r){if(void 0===i&&(i=!1),void 0===r&&(r=!1),this.allowInsert(t,n,s)){var o=this.aList.length,a=-1;if(e>-1)switch(e){case 0:this.aList.unshift(t),a=0;break;case o:this.aList.push(t),a=o;break;default:if(e>o)for(var h=0;h<e-o;h++)this.aList.push(null);var c=this.aList.slice(0,e),d=r?e+1:e,u=this.aList.slice(d);u.unshift(t),this.aList=c.concat(u),a=e}return i||this.dispatch(new l.CollectionEvent(l.CollectionEvent.COLLECTION_CHANGE,{type:"add",item:t})),a}},e.prototype.changeIndex=function(t,e,i){var n=this.aList[t];this.aList.splice(e,0,this.aList.splice(t,1)[0]),i||this.dispatch(new l.CollectionEvent(l.CollectionEvent.COLLECTION_CHANGE_ORDER,{type:"change",item:n,fromIndex:t,toIndex:e}))},e.prototype.swapIndex=function(t,e,i){var n=this.aList[t];this.aList[e]=this.aList.splice(t,1,this.aList[e])[0],i||this.dispatch(new l.CollectionEvent(l.CollectionEvent.COLLECTION_CHANGE_ORDER,{type:"swap",item:n,fromIndex:t,toIndex:e}))},e.prototype.indexOf=function(t,e){null==e&&(e=0);var i=this.aList.length,n=-1;if(e>-1&&e<i)for(var s=e;s<i;){if(this.aList[s]==t){n=s;break}s++}return n},e.prototype.lastIndexOf=function(t,e){var i=this.aList.length,n=-1;if(e>-1&&e<i)for(var s=i-1;s>=e;){if(this.aList[s]==t){n=s;break}s--}return n},e}(r.Subject);e.ArrayList=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.extend=function(t,e){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},t.mixin=function(t,e,i,n){void 0===n&&(n=!1);var s=new t;for(var r in t.prototype)t.prototype.hasOwnProperty(r)&&(e.prototype[r]=t.prototype[r]);for(var r in s)if(s.hasOwnProperty(r)){if(null!==i[r]&&void 0!==i[r]&&!n)continue;i[r]=s[r]}return i},t.hasFunction=function(t,e){return t&&"function"==typeof t[e]},t.isPropDefined=function(t,e){return!(!t||!t.hasOwnProperty(e)||null==t[e]||null==t[e]||NaN==t[e])},t}();e.ObjectUtils=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);class s extends n.AbstractEvent{constructor(t,e){super(t,e)}clone(t,e){return new s(this.type,this.payload)}}s.READY="lotusComponentReady",s.CLICK="click",e.ComponentEvent=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(3);e.AbstractItemView=class extends n.AbstractComponent{constructor(){super()}get model(){return this._model}set model(t){this._model=t,this.onModelChange(t),this.notify(t,"model")}setElementDisplay(t,e){null!=t&&(t.style.display=e)}onModelChange(t){}resetState(){}destroy(){super.destroy(),this.model&&this.model.destroy&&this.model.destroy(),this.model=null}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const Lavender=__webpack_require__(0),AbstractComponent_1=__webpack_require__(3),SkinPart_1=__webpack_require__(1),ItemViewEvent_1=__webpack_require__(12);class AbstractCollectionView extends AbstractComponent_1.AbstractComponent{constructor(){super(),this._childViews=new Lavender.ArrayList}get collectionContainer(){return this._collectionContainer}set collectionContainer(t){this._collectionContainer=t,this.notify(t,"collectionContainer")}get itemTemplate(){return this._itemTemplate}set itemTemplate(t){this._itemTemplate=t,this.notify(t,"itemTemplate")}get selectedItem(){return this._selectedItem}set selectedItem(t){this._selectedItem=t,this.notify(t,"selectedItem")}get collection(){return this._collection}set collection(t){this.removeCollectionEventListeners(),this._collection=t,t&&this.addCollectionEventListeners(),this.notify(t,"collection"),t&&this.ready&&this.render()}get childViews(){return this._childViews}get itemView(){return this._itemView}set itemView(t){this._itemView=t,this.notify(t,"itemView")}destroyChildViews(){if(this.removeAllChildViews(),null!==this.collectionContainer&&void 0!==this.collectionContainer)for(;this.collectionContainer.firstChild;)this.collectionContainer.removeChild(this.collectionContainer.firstChild);else if(this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this._childViews=null}addCollectionEventListeners(){null!==this.collection&&void 0!==this.collection&&this.collection.addEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE,this,"onCollectionChange")}removeCollectionEventListeners(){null!==this.collection&&void 0!==this.collection&&this.collection.removeEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE,this,"onCollectionChange")}onCollectionChange(t){switch(t.payload.type){case"add":this.addChildView(t.payload.item);break;case"remove":this.removeChildViewFromModel(t.payload.item);break;case"removeAll":this.removeAllChildViews()}}createChildView(model){let evalClass=eval(this.itemView);return new evalClass}cloneItemTemplate(t){return this.itemTemplate.cloneNode(!0)}getModel(t){return t}addChildView(t){let e=this.createChildView(t),i=this.cloneItemTemplate(t);e.model=this.getModel(t),e.element=i,e.init(),this.childViews.addItem(e),null!==this.collectionContainer&&void 0!==this.collectionContainer?this.collectionContainer.appendChild(e.element):this.element.appendChild(e.element),this.addViewEventListeners(e),e.model.selected&&this.onItemSelectedDeselect(new ItemViewEvent_1.ItemViewEvent(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED,{item:e}))}addViewEventListeners(t){t.addEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED,this,"onItemSelectedDeselect"),t.addEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED,this,"onItemSelectedDeselect"),t.addEventListener(ItemViewEvent_1.ItemViewEvent.REMOVE_ITEM,this,"onItemRemove")}removeViewEventListeners(t){t.removeEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED,this,"onItemSelectedDeselect"),t.removeEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED,this,"onItemSelectedDeselect"),t.removeEventListener(ItemViewEvent_1.ItemViewEvent.REMOVE_ITEM,this,"onItemRemove")}onItemSelectedDeselect(t){null!==this.selectedItem&&void 0!==this.selectedItem&&this.selectedItem!=t.payload.item&&this.selectedItem.resetState(),this.selectedItem=t.type==ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED?t.payload.item:null}onItemRemove(t){let e=this.collection.indexOf(t.payload.item.model);e>=0&&this.collection.removeItemAt(e)}addAllChildViews(t){for(let e=0;e<t.length;e++)this.addChildView(t[e])}removeAllChildViews(){if(this.childViews)for(let t=this.childViews.length-1;t>=0;t--)this.removeChildView(this.childViews.getItemAt(t))}removeChildView(t){this.removeViewEventListeners(t),this.removeElement(t.element),t.destroy(),this.childViews.removeItemAt(this.childViews.indexOf(t))}removeElement(t){null!==this.collectionContainer&&void 0!==this.collectionContainer?this.collectionContainer.removeChild(t):this.element.removeChild(t)}removeChildViewFromModel(t){for(let e=0;e<this.childViews.length;e++)if(this.childViews.getItemAt(e).model==t){this.removeChildView(this.childViews.getItemAt(e));break}}initCollection(){null!==this.collection&&void 0!==this.collection||(this.collection=this.getCollection())}refreshView(t){}validateViewsFunctions(){if(null===this.itemView||null==this.itemView)throw Error("data-attribute-item-view must be defined on the tag instance and point to a valid constructor")}setSelectedItem(t){if(!this.selectedItem||this.selectedItem.model!=t)for(let e=0;e<this.childViews.length;e++)if(this.childViews.getItemAt(e).model==t){this.onItemSelectedDeselect(new ItemViewEvent_1.ItemViewEvent(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED,{item:this.childViews.getItemAt(e)})),this.selectedItem&&this.refreshView(t.value);break}}init(){super.init(),this.initCollection(),this.render()}render(){this.validateViewsFunctions(),this.removeAllChildViews();for(let t=0;t<this.collection.length;t++)this.addChildView(this.collection.getItemAt(t))}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new SkinPart_1.SkinPart("collectionContainer",this,"collectionContainer")),this.skinParts.addItem(new SkinPart_1.SkinPart("itemTemplate",this,"itemTemplate"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"itemTemplate":e.parentNode.removeChild(e)}}getCollection(){return new Lavender.ArrayList}destroy(){this.destroyChildViews(),super.destroy(),this.collection=null,this.itemView=null,this.collectionContainer=null,this.itemTemplate=null,this.selectedItem=null}}exports.AbstractCollectionView=AbstractCollectionView},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e){this.handler=t,this.instance=e}}(),s=function(){function t(){this.handlersByEventName={}}return t.prototype.addEventListener=function(t,e,i){null!==this.handlersByEventName[t]&&void 0!==this.handlersByEventName[t]||(this.handlersByEventName[t]=[]),this.handlersByEventName[t].push(new n(i,e))},t.prototype.canListen=function(t,e,i){var n=!1;if(null!==this.handlersByEventName[t]&&void 0!==this.handlersByEventName[t])for(var s=0;s<this.handlersByEventName[t].length;s++){var r=this.handlersByEventName[t][s].handler,o=this.handlersByEventName[t][s].instance;if(r==i&&o==e){n=!0;break}}return n},t.prototype.removeEventListener=function(t,e,i){if(null!==this.handlersByEventName[t]&&void 0!==this.handlersByEventName[t])for(var n=0;n<this.handlersByEventName[t].length;n++)if(this.handlersByEventName[t][n].instance==e&&this.handlersByEventName[t][n].handler==i){var s=this.handlersByEventName[t][n];switch(n){case 0:this.handlersByEventName[t].shift();break;case this.handlersByEventName[t].length-1:this.handlersByEventName[t].pop();break;default:var r=this.handlersByEventName[t].slice(0,n),o=this.handlersByEventName[t].slice(n+1);this.handlersByEventName[t]=r.concat(o)}return s}},t.prototype.removeAllEventListeners=function(t){for(var e in this.handlersByEventName)for(var i=this.handlersByEventName[e].length-1;i>=0;i--)this.handlersByEventName[e][i].instance==t&&this.removeEventListener(e,t,this.handlersByEventName[e][i].handler)},t.prototype.dispatch=function(t){if(null!==this.handlersByEventName[t.type]&&void 0!==this.handlersByEventName[t.type])for(var e=this.handlersByEventName[t.type].slice(),i=e.length,n=0;n<i;++n){var s=e[n].handler;e[n].instance[s](t)}},t}();e.EventDispatcher=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.distance=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.direction=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t.prototype.equal=function(t){return this.x===t.x&&this.y===t.y},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.scale=function(e){return new t(this.x*e,this.y*e)},t.prototype.magnitude=function(){return t.distance(new t(0,0),this)},t}();e.Point=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(10),s=function(){function t(t,e,i,n,s,r){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===s&&(s=0),void 0===r&&(r=0),this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r}return t.rotation=function(e,i){void 0===i&&(i=null);var n=new t(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e));return i&&(n=t.translation(i.x,i.y).concat(n).concat(t.translation(-i.x,-i.y))),n},t.scale=function(e,i,n){var s=new t(e,0,0,i=i||e);return n&&(s=t.translation(n.x,n.y).concat(s).concat(t.translation(-n.x,-n.y))),s},t.translation=function(e,i){return new t(1,0,0,1,e,i)},t.prototype.concat=function(e){return new t(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.tx+this.c*e.ty+this.tx,this.b*e.tx+this.d*e.ty+this.ty)},t.prototype.deltaTransformPoint=function(t){return new n.Point(this.a*t.x+this.c*t.y,this.b*t.x+this.d*t.y)},t.prototype.inverse=function(){var e=this.a*this.d-this.b*this.c;return new t(this.d/e,-this.b/e,-this.c/e,this.a/e,(this.c*this.ty-this.d*this.tx)/e,(this.b*this.tx-this.a*this.ty)/e)},t.prototype.rotate=function(e,i){return this.concat(t.rotation(e,i))},t.prototype.scale=function(e,i,n){return this.concat(t.scale(e,i,n))},t.prototype.transformPoint=function(t){return new n.Point(this.a*t.x+this.c*t.y+this.tx,this.b*t.x+this.d*t.y+this.ty)},t.prototype.translate=function(e,i){return this.concat(t.translation(e,i))},t.IDENTITY=new t,t.HORIZONTAL_FLIP=new t(-1,0,0,1),t.VERTICAL_FLIP=new t(1,0,0,-1),t}();e.Matrix=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);class s extends n.AbstractEvent{constructor(t,e){if(super(t,e),t==s.ITEM_SELECTED&&(!e.hasOwnProperty("item")||null===e.item||void 0===e.item))throw new Error("Lotus.ItemViewEvent payload.item is required")}clone(t,e){return new s(this.type,this.payload)}}s.ITEM_SELECTED="itemViewItemSelected",s.ITEM_DESELECTED="itemViewItemDeselected",s.REMOVE_ITEM="itemViewRemoveItem",e.ItemViewEvent=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),s=i(7),r=i(1),o=i(12);e.AbstractThumbnailView=class extends s.AbstractItemView{constructor(){super(),this._allowDrag=!0}get thumbWidth(){return this._thumbWidth}set thumbWidth(t){this._thumbWidth=t,this.notify(t,"thumbWidth")}get thumbHeight(){return this._thumbHeight}set thumbHeight(t){this._thumbHeight=t,this.notify(t,"thumbHeight")}get thumbnail(){return this._thumbnail}set thumbnail(t){this._thumbnail=t,this.notify(t,"thumbnail")}get thumbnailContainer(){return this._thumbnailContainer}set thumbnailContainer(t){this._thumbnailContainer=t,this.notify(t,"thumbnailContainer")}get allowDrag(){return this._allowDrag}set allowDrag(t){this._allowDrag=t,this.notify(t,"allowDrag")}sizeImage(){if(null===this.thumbnail||void 0===this.thumbnail)return;let t=this.getDefaultSize(),e=this.getContainerSize(),i=n.ResizeUtils.getScaleToFit(t,e),s=t.width*i,r=t.height*i;this.thumbnail.setAttribute("width",s+"px"),this.thumbnail.setAttribute("height",r+"px"),this.thumbnail.style.maxWidth=e.width+"px",this.thumbnail.style.maxHeight=e.height+"px"}onThumbClick(t){this.resetState()}onDragStart(t){}getImageURL(t){return t?t.thumbUrl:this.model.thumbUrl}getDefaultSize(){return{width:parseInt(this.thumbnail.getAttribute("width")),height:parseInt(this.thumbnail.getAttribute("height"))}}getContainerSize(){let t=null!==this.thumbnailContainer&&void 0!==this.thumbnailContainer?{width:parseInt(window.getComputedStyle(this.thumbnailContainer).width),height:parseInt(window.getComputedStyle(this.thumbnailContainer).height)}:{width:NaN,height:NaN};return isNaN(parseInt(this.thumbWidth))||isNaN(parseInt(this.thumbWidth))||(t={width:parseInt(this.thumbWidth),height:parseInt(this.thumbHeight)}),t}onImageLoad(t){this.thumbnail&&(this.thumbnail.onload=null,this.setElementDisplay(this.thumbnail,this._thumbnailDisplay),this.sizeImage())}setThumbnailSrc(t){this.thumbnail&&(this.thumbnail.onload=this.onImageLoad.bind(this),this.setElementDisplay(this.thumbnail,"none"),this.thumbnail.src=t)}addEventListeners(){super.addEventListeners(),null!==this.thumbnail&&void 0!==this.thumbnail&&(this.thumbnail.setAttribute("draggable",this.allowDrag?"true":"false"),this.thumbnail.addEventListener("click",this.onThumbClick.bind(this)),this.thumbnail.addEventListener("dragstart",this.onDragStart.bind(this)))}removeEventListeners(){super.removeEventListeners(),null!==this.thumbnail&&void 0!==this.thumbnail&&(this.thumbnail.removeEventListener("click",this.onThumbClick),this.thumbnail.removeEventListener("dragstart",this.onDragStart))}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new r.SkinPart("thumbnail",this,"thumbnail")),this.skinParts.addItem(new r.SkinPart("thumbnailContainer",this,"thumbnailContainer"))}onModelChange(t){t&&this.setThumbnailSrc(this.getImageURL(t))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"thumbnail":this.binder.bind(this,"model",this,"onModelChange"),this._thumbnailDisplay=this.thumbnail.style.display,this.setThumbnailSrc(this.getImageURL()),this.addEventListeners();break;case"thumbnailContainer":this._thumbnailSelectedClass=this.thumbnailContainer.getAttribute("selected-class")}}resetState(){this.thumbnailContainer.classList.toggle(this._thumbnailSelectedClass);let t=this.thumbnailContainer.classList.contains(this._thumbnailSelectedClass)?o.ItemViewEvent.ITEM_SELECTED:o.ItemViewEvent.ITEM_DESELECTED;this.dispatch(new o.ItemViewEvent(t,{item:this}))}destroy(){super.destroy(),this.removeEventListeners(),this.thumbnail=null,this.thumbnailContainer=null,this._thumbnailSelectedClass=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.ValidationError=class extends n.Subject{constructor(t,e,i){super(),this.property=t,this.errorCode=e,this.errorMessage=i}get property(){return this._property}set property(t){this._property=t,this.notify(t,"property")}get errorCode(){return this._errorCode}set errorCode(t){this._errorCode=t,this.notify(t,"errorCode")}get errorMessage(){return this._errorMessage}set errorMessage(t){this._errorMessage=t,this.notify(t,"errorMessage")}destroy(){this.property=null,this.errorCode=null,this.errorMessage=null}}},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,i){return t.call(this,e,i)||this}return s(e,t),e.prototype.clone=function(t,i){return new e(this.type,this.payload)},e.COLLECTION_CHANGE="collectionChange",e.COLLECTION_CHANGE_ORDER="collectionChangeOrder",e}(i(16).AbstractEvent);e.CollectionEvent=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e){this.type=t,this.payload=e}}();e.AbstractEvent=n},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,i){return t.call(this,e,i)||this}return s(e,t),e.prototype.clone=function(t,i){return new e(this.type,this.payload)},e.TOTALRECORDS_CHANGE="totalRecordsChange",e.TOTALPAGES_CHANGE="totalPagesChange",e.PAGE_LIST_CHANGE="pageListChange",e.RESULTS_CHANGE="resultsChange",e.RECORDS_PER_PAGE_CHANGE="recordsPerPageChange",e.SELECTED_PAGE_CHANGE="selectedPageChange",e.RECORDSETS_CHANGE="recordsetChange",e.LOAD_PAGE_DATA="loadRecordSetPageData",e}(i(16).AbstractEvent);e.RecordSetEvent=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.degreeToRadian=function(t){return t*Math.PI/180},t.radianToDegree=function(t){return 180*t/Math.PI},t.toFixed=function(t,e){void 0===e&&(e=10);var i=Math.pow(10,e);return Math.round(t*i)/i},t.isEven=function(t){return t%2==0},t}();e.MathUtils=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);class s extends n.AbstractEvent{constructor(t,e){super(t,e)}clone(t,e){return new s(this.type,this.payload)}}s.CHANGE="change",e.InputEvent=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);class s extends n.AbstractEvent{constructor(t,e){super(t,e)}clone(t,e){return new s(this.type,this.payload)}}s.REMOVE_FILE_FROM_COLLECTION="removeFileFromCollection",s.ABORT_FILE_UPLOAD="abortFileUpload",s.UPLOAD_FILE="uploadFile",e.FileEvent=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(7),s=i(22),r=i(12);e.AbstractSelectableFormInput=class extends n.AbstractItemView{constructor(){super()}get selected(){return this._selected}set selected(t){this._selected=t,this.refreshView(t),this.notify(t,"selected");let e=this.selected?r.ItemViewEvent.ITEM_SELECTED:r.ItemViewEvent.ITEM_DESELECTED;this.dispatch(new r.ItemViewEvent(e,{item:this}))}refreshView(t){}resetState(){this.selected=!1}onModelChange(t){super.onModelChange(t),t&&t instanceof s.InputModel?(this.selected=t.selected,this.binder.bind(t,"selected",this,"selected"),this.binder.bind(this,"selected",t,"selected")):t&&t.selected&&(this.selected=t.selected)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.InputModel=class extends n.Subject{constructor(t,e,i,n=!1,s=!1){super(),this._selected=!1,this._required=!1,this.label=t,this.value=e,this.name=i,this.selected=n,this.required=s}get nonFormattedValue(){return this._nonFormattedValue}get label(){return this._label}set label(t){this._label=t,this.notify(t,"label")}get value(){return this._value}set value(t){this._nonFormattedValue=t,this.format&&(t=this.format(t)),this._value=t,this.notify(t,"value")}get name(){return this._name}set name(t){this._name=t,this.notify(t,"name")}get selected(){return this._selected}set selected(t){this._selected=t,this.notify(t,"selected")}get required(){return this._required}set required(t){this._required=t,this.notify(t,"required")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(8),s=i(19);e.AbstractInputCollectionView=class extends n.AbstractCollectionView{get model(){return this._model}set model(t){this._model=t,this.notify(t,"model"),this.model&&(this.collection=this.model.collection)}attachValidationClass(t,e){this.collectionContainer&&(this.collectionContainer.classList.remove(e),this.collectionContainer.classList.add(t))}onItemSelectedDeselect(t){let e=this.selectedItem!=t.payload.item;super.onItemSelectedDeselect(t),e&&this.dispatch(new s.InputEvent(s.InputEvent.CHANGE,{target:this,selectedItem:this.selectedItem,originalEvent:t}))}destroy(){super.destroy(),this.model&&this.model.destroy(),this.model=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.AbstractValidator=class extends n.Subject{constructor(){super(),this._isValid=!1,this._hasWarnings=!1}get errors(){return this._errors}set errors(t){this._errors=t,this.notify(t,"errors")}get warnings(){return this._warnings}set warnings(t){this._warnings=t,this.notify(t,"warnings")}get source(){return this._source}set source(t){this._source=t,null!==this.source&&void 0!==this.source&&this.init(),this.notify(t,"source")}get isValid(){return this._isValid}set isValid(t){this._isValid=t,this.notify(t,"isValid")}get hasWarnings(){return this._hasWarnings}set hasWarnings(t){this._hasWarnings=t,this.notify(t,"hasWarnings")}get id(){return this._id}set id(t){this._id=t,this.notify(t,"id")}getValidationResult(){return this.errors.length<=0}getValidationWarningsResult(){return this.warnings.length>0}getValidationErrors(){return new n.ArrayList}getValidationWarnings(){return new n.ArrayList}validateOnChange(t){this.validate()}setUpBindings(){}addEventListeners(){}validate(){return this.errors=this.getValidationErrors(),this.warnings=this.getValidationWarnings(),this.isValid=this.getValidationResult(),this.hasWarnings=this.getValidationWarningsResult(),this.isValid}init(){this.addEventListeners(),this.setUpBindings(),this.validate()}destroy(){this.binder.unbindAll(),this.binder=null,this.source=null,this.errors=null,this.warnings=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),s=i(37);e.ComponentMap=class{constructor(t){this.context=t,this.componentInstances=new s.ComponentList,this.tagInstanceToRequestId={}}success(t){let e=this.tagInstanceToRequestId[t.requestId],i=document.createElement("div");i.innerHTML=t.resultObj;let n=document.importNode(i.childNodes[0].content,!0),s=n.querySelector(e.getAttribute("data-component-root"));s.lotusComponentInstance=e.lotusComponentInstance;let r=e.createShadowRoot();r.appendChild(n);for(let t=0;t<e.attributes.length;t++){let i=e.attributes[t];i.name.indexOf("attribute")>=0&&s.setAttribute(i.name,i.value)}this.createComponent(s),window.WebComponents&&window.WebComponents.ShadowCSS&&window.WebComponents.ShadowCSS.shimStyling(r,e.nodeName)}fault(t){throw console.log(t),new Error("Could not load template. Please check you defined the correct path.")}onProgress(t){}mapMediators(t){}addComponent(t,e){null!==t.lotusComponentInstance&&void 0!==t.lotusComponentInstance||(t.lotusComponentInstance=new e,this.componentInstances.addItem(t.lotusComponentInstance)),this.mapMediators(t);let i=t.getAttribute("data-template-url");if(null!=i){let e=new n.XhrHttpService;return e.addResponder(this),e.send("GET",i,null,"text/html","text",!0),void(this.tagInstanceToRequestId[e.requestId]=t)}this.createComponent(t)}createComponent(t){t.lotusComponentInstance.created(t)}mapComponent(t,e,i,n){n||(n=xtag);let s=this,r={prototype:e,lifecycle:{created:function(){s.addComponent(this,i)},inserted:function(){this.lotusComponentInstance.inserted(this)},removed:function(){this.lotusComponentInstance.removed(this)},attributeChanged:function(t,e,i){this.lotusComponentInstance.attributeChanged(this)}}};n.register(t,r)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,s){if(void 0===n&&(n=!1),n&&!s)throw new Error("cssProperty property is required when isCSS param is true");this.chain=t,this.instance=e,this.chainProp=i,this.isCSS=n,this.cssProperty=s}return t.prototype.update=function(t,e){this.isCSS?this.instance[this.chainProp](this.cssProperty,t):"function"==typeof this.instance[this.chainProp]?this.instance[this.chainProp](t,e):this.instance[this.chainProp]!=t&&(this.instance[this.chainProp]=t)},t}();e.ChangeWatcher=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(28),s=function(){return function(t,e){this.host=t,this.watcher=e}}(),r=function(){function t(){this.bindingGroups={}}return t.prototype.bind=function(t,e,i,r,o,a,l){void 0===o&&(o=!1),void 0===a&&(a=null),void 0===l&&(l="default");var h=n.BindingUtils.bind(t,e,i,r,o,a);this.bindingGroups.hasOwnProperty(l)||(this.bindingGroups[l]=[]);var c=new s(t,h);this.bindingGroups[l].push(c)},t.prototype.unbind=function(t){void 0===t&&(t="default");var e=this.bindingGroups[t];e&&(e.forEach(function(t){t.host.removeObserver(t.watcher)}),delete this.bindingGroups[t])},t.prototype.unbindAll=function(){for(var t in this.bindingGroups)this.unbind(t)},t}();e.Binder=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(26),s=function(){function t(){}return t.bind=function(t,e,i,s,r,o){var a=new n.ChangeWatcher(e,i,s,r,o);return t.addObserver(a),a},t}();e.BindingUtils=s},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,i){void 0===i&&(i=!0);var n=t.call(this,e,i)||this;return n.recordSetsBySource={},n.recordSetsById={},n}return s(e,t),e.prototype.addItem=function(e,i,n){return this.recordSetsById[e.id]=e,this.recordSetsBySource[e.source]=e,t.prototype.addItem.call(this,e,i,n)},e.prototype.clear=function(){this.clearHash(this.recordSetsById),this.clearHash(this.recordSetsBySource),t.prototype.clear.call(this)},e.prototype.removeItemAt=function(e){var i=this.getItemAt(e);this.removeItemFromHash(this.recordSetsById,i.id),this.removeItemFromHash(this.recordSetsBySource,i.source),t.prototype.removeItemAt.call(this,e)},e.prototype.insert=function(e,i,n,s,r,o){return void 0===n&&(n=!1),void 0===o&&(o=!1),this.recordSetsById[e.id]=e,this.recordSetsBySource[e.source]=e,t.prototype.insert.call(this,e,i,n,s,r,o)},e}(i(4).ArrayList);e.RecordSetList=r},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),o=i(5),a=function(t){function e(e){void 0===e&&(e={});var i=t.call(this)||this;return i._left=void 0,i._top=void 0,i._width=void 0,i._height=void 0,i.left=e.left,i.top=e.top,i.width=e.width,i.height=e.height,i}return s(e,t),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,this.notify(t,"left")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._top},set:function(t){this._top=t,this.notify(t,"top")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this.notify(t,"width")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this.notify(t,"height")},enumerable:!0,configurable:!0}),e.prototype.update=function(t){for(var e in void 0===t&&(t={}),t)o.ObjectUtils.isPropDefined(t,e)&&Object.getPrototypeOf(this).hasOwnProperty(e)&&(this[e]=t[e])},e.prototype.getDefinedValues=function(){var t=this,e={};return Object.keys(Object.getPrototypeOf(this)).forEach(function(i){t[i]&&(e[i]=t[i])}),e},e}(r.Subject);e.Geometry=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18),s=i(11),r=function(){function t(){}return t.rotate=function(t,e,i){return t.rotate(n.MathUtils.degreeToRadian(e),i)},t.matrixToCSS=function(t){var e=["a","b","c","d","tx","ty"],i=[];for(var s in e)i.push(n.MathUtils.toFixed(t[e[s]]));return"matrix("+i.join(",")+")"},t.getRotationAngleForElement=function(t){var e,i=t.style["-webkit-transform"]||t.style["-moz-transform"]||t.style["-ms-transform"]||t.style["-o-transform"]||t.style.transform;if("none"!==i){var n=i.split("(")[1].split(")")[0].split(","),s=n[0],r=n[1];e=Math.round(Math.atan2(r,s)*(180/Math.PI))}else e=0;return e},t.getRotationAngle=function(t){return n.MathUtils.toFixed(n.MathUtils.radianToDegree(Math.atan2(t.b,t.a)))},t.getMatrix=function(t){var e=t.split("(")[1],i=(e=e.split(")")[0]).split(","),n=parseFloat(i[0]),r=parseFloat(i[1]),o=parseFloat(i[2]),a=parseFloat(i[3]),l=parseFloat(i[4]),h=parseFloat(i[5]);return new s.Matrix(n,r,o,a,l,h)},t}();e.MatrixUtils=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.substitute=function(t,e){if(null===t)return"";var i=e.length,n=[];1==i&&e[0]instanceof Array?i=(n=e[0]).length:n=e;for(var s=0;s<i;s++)t=t.replace(new RegExp("\\{"+s+"\\}","g"),n[s]);return t},t.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},t.trim=function(e){if(null==e)return"";for(var i=0;t.isWhitespace(e.charAt(i));)++i;for(var n=e.length-1;t.isWhitespace(e.charAt(n));)--n;return n>=i?e.slice(i,n+1):""},t.isWhitespace=function(t){switch(t){case" ":case"\t":case"\r":case"\n":case"\f":return!0;default:return!1}},t.convertCharCodesToString=function(t){for(var e=t.split("_"),i=new String,n=1;n<e.length;n++)i+=String.fromCharCode(parseInt(e[n],10));return i},t.fixedCharCodeAt=function(t,e){e=e||0;var i,n,s=t.charCodeAt(e);if(55296<=s&&s<=56319){if(i=s,n=t.charCodeAt(e+1),isNaN(n))throw new Error("StringUtil.fixedCharCodeAt: High surrogate not followed by low surrogate in fixedCharCodeAt()");return 1024*(i-55296)+(n-56320)+65536}return!(56320<=s&&s<=57343)&&s},t}();e.StringUtil=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.generateUUID=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)})},t.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},t}();e.UuidUtils=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e,i){if(null===t||void 0===t&&304!=e)throw new Error("resultObj is required");if(null==e)throw new Error("status is required");this.resultObj=t,this.status=e,this.requestId=i}}();e.HttpSuccess=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e,i,n){this.errorObj=t,this.status=e,this.message=i,this.requestId=n}}();e.HttpFault=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),s=i(33),r=function(){function t(){this.responders=new n.ArrayList}return t.prototype.success=function(t){},t.prototype.fault=function(t){},t.prototype.addResponder=function(t){if(null===t.fault||void 0===t.fault||null===t.success||void 0===t.success)throw new Error("responder must define fault and success methods");return this.responders.addItem(t)},t.prototype.removeResponder=function(t){if(null===t.fault||void 0===t.fault||null===t.success||void 0===t.success)throw new Error("responder must define fault and success methods");var e=this.responders.indexOf(t);this.responders.removeItemAt(e)},t.prototype.send=function(t,e,i,n,r,o,a){return void 0===o&&(o=!1),void 0===a&&(a=[]),this.requestId=s.UuidUtils.generateUUID(),this.requestId},t.prototype.destroy=function(){this.responders.clear(),this.responders=null},t}();e.AbstractHttpService=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.ComponentList=class extends n.ArrayList{constructor(){super(),this.instancesByConstructor={}}addToHash(t){null!==this.instancesByConstructor[t.constructor]&&void 0!==this.instancesByConstructor[t.constructor]||(this.instancesByConstructor[t.constructor]=[]),this.instancesByConstructor[t.constructor].push(t)}removeItemFromHash(t,e){let i=t[e.constructor];if(!(null==i||i.length<1))for(let t=0;t<i.length;t++)if(i[t]==e){switch(t){case 0:i.shift();break;case i.length-1:i.pop();break;default:let e=i.slice(0,t),n=i.slice(t+1);i=e.concat(n)}break}}addItem(t,e,i){let n=super.addItem(t,e,i);return this.addToHash(t),n}clear(){super.clearHash(this.instancesByConstructor),super.clear()}removeItemAt(t){let e=this.getItemAt(t);this.removeItemFromHash(this.instancesByConstructor,e),super.removeItemAt(t)}insert(t,e,i=!1,n,s,r=!1){let o=super.insert(t,e,i,n,s,r);return this.addToHash(t),o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);e.SkinPartList=class extends n.ArrayList{constructor(t,e=!0){super(t,e),this.skinPartsByLabel={}}addItem(t,e,i){let n=super.addItem(t,e,i);return this.skinPartsByLabel[t.label]=t,n}clear(){super.clearHash(this.skinPartsByLabel),super.clear()}removeItemAt(t){let e=this.getItemAt(t);super.removeItemFromHash(this.skinPartsByLabel,e.label),super.removeItemAt(t)}insert(t,e,i=!1,n,s,r=!1){let o=super.insert(t,e,i,n,s,r);return this.skinPartsByLabel[t.label]=t,o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),s=i(1),r=i(8);e.AbstractRecordSetCollectionView=class extends r.AbstractCollectionView{get recordSet(){return this._recordSet}set recordSet(t){this.removeCollectionEventListeners(),this._recordSet=t,this.addCollectionEventListeners(),this.notify(t,"recordSet")}get navBtnEnabledClass(){return this._navBtnEnabledClass}set navBtnEnabledClass(t){this._navBtnEnabledClass=t,this.notify(t,"navBtnEnabledClass")}get navBtnDisabledClass(){return this._navBtnDisabledClass}set navBtnDisabledClass(t){this._navBtnDisabledClass=t,this.notify(t,"navBtnDisabledClass")}get nextBtn(){return this._nextBtn}set nextBtn(t){this._nextBtn=t,this.notify(t,"nextBtn")}get pervBtn(){return this._pervBtn}set pervBtn(t){this._pervBtn=t,this.notify(t,"pervBtn")}get firstBtn(){return this._firstBtn}set firstBtn(t){this._firstBtn=t,this.notify(t,"firstBtn")}get lastBtn(){return this._lastBtn}set lastBtn(t){this._lastBtn=t,this.notify(t,"lastBtn")}constructor(){super(),this.nextBtn=null,this.pervBtn=null,this.firstBtn=null,this.lastBtn=null}addCollectionEventListeners(){null!==this.recordSet&&void 0!==this.recordSet&&(this.recordSet.addEventListener(n.RecordSetEvent.RESULTS_CHANGE,this,"onResultsChange"),this.binder.bind(this.recordSet,"pageList",this,"onPageListChange",null,null,"pageListChaneHandler"))}removeCollectionEventListeners(){null!==this.recordSet&&void 0!==this.recordSet&&this.recordSet.removeEventListener(n.RecordSetEvent.RESULTS_CHANGE,this,"onResultsChange"),null!==this.binder&&void 0!==this.binder&&this.binder.unbind("pageListChaneHandler")}onClickHandler(t){switch(t.currentTarget.getAttribute("data-skin-part")){case"nextBtn":if(this.recordSet.selectedPage+1>this.recordSet.totalPages)return;this.recordSet.selectedPage+=1;break;case"pervBtn":if(this.recordSet.selectedPage-1<1)return;this.recordSet.selectedPage-=1;break;case"firstBtn":this.recordSet.selectedPage=1;break;case"lastBtn":this.recordSet.selectedPage=this.recordSet.totalPages}this.nextBtn&&this.refreshNavButtonDisplay(this.nextBtn,"next"),this.pervBtn&&this.refreshNavButtonDisplay(this.pervBtn,"prev"),this.firstBtn&&this.refreshNavButtonDisplay(this.firstBtn,"prev"),this.lastBtn&&this.refreshNavButtonDisplay(this.lastBtn,"next")}refreshNavButtonDisplay(t,e){let i;t.classList.contains(this.navBtnDisabledClass)&&t.classList.remove(this.navBtnDisabledClass),t.classList.contains(this.navBtnEnabledClass)&&t.classList.remove(this.navBtnEnabledClass),i="next"===e?this.recordSet.selectedPage+1>this.recordSet.totalPages?this.navBtnDisabledClass:this.navBtnEnabledClass:this.recordSet.selectedPage-1<1?this.navBtnDisabledClass:this.navBtnEnabledClass,t.classList.add(i)}onResultsChange(t){this.render()}onPageListChange(t){this.render()}initCollection(){null!==this.recordSet&&void 0!==this.recordSet||(this.recordSet=new n.RecordSet)}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("nextBtn",this,"nextBtn")),this.skinParts.addItem(new s.SkinPart("pervBtn",this,"pervBtn")),this.skinParts.addItem(new s.SkinPart("firstBtn",this,"firstBtn")),this.skinParts.addItem(new s.SkinPart("lastBtn",this,"lastBtn"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"nextBtn":this.nextBtn.addEventListener("click",this.onClickHandler.bind(this));break;case"pervBtn":this.pervBtn.addEventListener("click",this.onClickHandler.bind(this));break;case"firstBtn":this.firstBtn.addEventListener("click",this.onClickHandler.bind(this));break;case"lastBtn":this.lastBtn.addEventListener("click",this.onClickHandler.bind(this))}null!==e.getAttribute("data-enabledClass")&&void 0!==e.getAttribute("data-enabledClass")&&(this.navBtnEnabledClass=e.getAttribute("data-enabledClass")),null!==e.getAttribute("data-disabled-class")&&void 0!==e.getAttribute("data-disabled-class")&&(this.navBtnDisabledClass=e.getAttribute("data-disabled-class"))}render(){if(null===this.itemView||null==this.itemView)throw Error("data-attribute-item-view must be defined on the tag instance and point to a valid constructor");if(this.removeAllChildViews(),this.nextBtn&&this.refreshNavButtonDisplay(this.nextBtn,"next"),this.pervBtn&&this.refreshNavButtonDisplay(this.pervBtn,"prev"),this.firstBtn&&this.refreshNavButtonDisplay(this.firstBtn,"prev"),this.lastBtn&&this.refreshNavButtonDisplay(this.lastBtn,"next"),null!==this.recordSet.pageList&&void 0!==this.recordSet.pageList){for(let t=0;t<this.recordSet.pageList.length;t++){let e=this.recordSet.pageList.getItemAt(t);this.addChildView(e)}this.selectedItem=null}}destroy(){super.destroy(),this.nextBtn&&this.nextBtn.removeEventListener("click",this.onClickHandler),this.pervBtn&&this.pervBtn.removeEventListener("click",this.onClickHandler),this.firstBtn&&this.firstBtn.removeEventListener("click",this.onClickHandler),this.lastBtn&&this.lastBtn.removeEventListener("click",this.onClickHandler),this.recordSet.destroy(),this.navBtnEnabledClass=null,this.navBtnDisabledClass=null,this.nextBtn=null,this.pervBtn=null,this.firstBtn=null,this.lastBtn=null,this.recordSet=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(13),s=i(1),r=i(20),o=i(0);class a extends o.Subject{constructor(){super(),this._id=Math.random(),this.id=Math.random()}get size(){return this._size}set size(t){this._size=t,this.notify(t,"size")}get fileObj(){return this._fileObj}set fileObj(t){this._fileObj=t,this.notify(t,"fileObj")}get percentLoaded(){return this._percentLoaded}set percentLoaded(t){this._percentLoaded=t,this.notify(t,"percentLoaded")}get state(){return this._state}set state(t){this._state=t,this.notify(t,"state")}get thumbnail(){return this._thumbnail}set thumbnail(t){this._thumbnail=t,this.notify(t,"thumbnail")}get type(){return this._type}set type(t){this._type=t,this.notify(t,"type")}get name(){return this._name}set name(t){this._name=t,this.notify(t,"name")}}a.PENDING="pending",a.PROGRESS="progress",a.LOAD="load",a.ERROR="error",a.ABORT="abort",e.File=a;e.FileView=class extends n.AbstractThumbnailView{constructor(){super()}get fileLabel(){return this._fileLabel}set fileLabel(t){this._fileLabel=t}get fileTypeLabel(){return this._fileTypeLabel}set fileTypeLabel(t){this._fileTypeLabel=t}get progressBar(){return this._progressBar}set progressBar(t){this._progressBar=t}get statusIndicator(){return this._statusIndicator}set statusIndicator(t){this._statusIndicator=t}get loadIndicator(){return this._loadIndicator}set loadIndicator(t){this._loadIndicator=t}get errorIndicator(){return this._errorIndicator}set errorIndicator(t){this._errorIndicator=t}get progressIndicator(){return this._progressIndicator}set progressIndicator(t){this._progressIndicator=t}get pendingIndicator(){return this._pendingIndicator}set pendingIndicator(t){this._pendingIndicator=t}get abortIndicator(){return this._abortIndicator}set abortIndicator(t){this._abortIndicator=t}get cancelBtn(){return this._cancelBtn}set cancelBtn(t){this._cancelBtn=t}get clearBtn(){return this._clearBtn}set clearBtn(t){this._clearBtn=t}get cancelBtnDisplay(){return this._cancelBtnDisplay}set cancelBtnDisplay(t){this._cancelBtnDisplay=t}get clearBtnDisplay(){return this._clearBtnDisplay}set clearBtnDisplay(t){this._clearBtnDisplay=t}setUpBindings(){null!==this.fileLabel&&void 0!==this.fileLabel&&(this.fileLabel.innerHTML=this.model.name),null!==this.fileTypeLabel&&void 0!==this.fileTypeLabel&&(this.fileTypeLabel.innerHTML=this.model.type),null!==this.thumbnail&&void 0!==this.thumbnail&&(this.thumbnail.src=this.model.thumbnail),this.onStateChange(this.model.state),this.onPercentChange(this.model.percentLoaded),this.binder.bind(this.model,"state",this,"onStateChange"),this.binder.bind(this.model,"percentLoaded",this,"onPercentChange")}setStatusIndicator(t){if(null!==this.statusIndicator&&void 0!==this.statusIndicator){for(;this.statusIndicator.firstChild;)this.statusIndicator.removeChild(this.statusIndicator.firstChild);this.statusIndicator.appendChild(t)}}onPercentChange(t){if(null!==this.progressBar&&void 0!==this.progressBar){let e=this.progressBar.style.hasOwnProperty("maxWidth")&&this.progressBar.style.maxWidth.length>0?parseInt(this.progressBar.style.maxWidth):null,i=t/1*parseFloat(window.getComputedStyle(this.progressBar.parentNode).width);this.progressBar.style.width=null!==e&&i>e?e+"px":i+"px"}}init(){super.init(),this.setUpBindings()}onStateChange(t){switch(this.setElementDisplay(this.cancelBtn,this.cancelBtnDisplay),this.setElementDisplay(this.clearBtn,"none"),t){case a.PENDING:null!==this.pendingIndicator&&void 0!==this.pendingIndicator&&this.setStatusIndicator(this.pendingIndicator);break;case a.PROGRESS:null!==this.progressIndicator&&void 0!==this.progressIndicator&&this.setStatusIndicator(this.progressIndicator);break;case a.LOAD:null!==this.loadIndicator&&void 0!==this.loadIndicator&&this.setStatusIndicator(this.loadIndicator),this.setElementDisplay(this.cancelBtn,"none"),this.setElementDisplay(this.clearBtn,this.clearBtnDisplay);break;case a.ERROR:null!==this.errorIndicator&&void 0!==this.errorIndicator&&this.setStatusIndicator(this.errorIndicator),this.setElementDisplay(this.cancelBtn,"none"),this.setElementDisplay(this.clearBtn,this.clearBtnDisplay);break;case a.ABORT:null!==this.abortIndicator&&void 0!==this.abortIndicator&&this.setStatusIndicator(this.abortIndicator),this.setElementDisplay(this.cancelBtn,"none"),this.setElementDisplay(this.clearBtn,this.clearBtnDisplay)}}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("thumbnail",this,"thumbnail")),this.skinParts.addItem(new s.SkinPart("clearBtn",this,"clearBtn")),this.skinParts.addItem(new s.SkinPart("cancelBtn",this,"cancelBtn")),this.skinParts.addItem(new s.SkinPart("abortIndicator",this,"abortIndicator")),this.skinParts.addItem(new s.SkinPart("pendingIndicator",this,"pendingIndicator")),this.skinParts.addItem(new s.SkinPart("progressIndicator",this,"progressIndicator")),this.skinParts.addItem(new s.SkinPart("errorIndicator",this,"errorIndicator")),this.skinParts.addItem(new s.SkinPart("loadIndicator",this,"loadIndicator")),this.skinParts.addItem(new s.SkinPart("statusIndicator",this,"statusIndicator")),this.skinParts.addItem(new s.SkinPart("progressBar",this,"progressBar")),this.skinParts.addItem(new s.SkinPart("fileTypeLabel",this,"fileTypeLabel")),this.skinParts.addItem(new s.SkinPart("fileLabel",this,"fileLabel"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"cancelBtn":this.cancelBtnDisplay=this.cancelBtn.style.display,this.cancelBtn.addEventListener("click",this.onCancelBtnClick.bind(this));break;case"clearBtn":this.clearBtnDisplay=this.clearBtn.style.display,this.clearBtn.addEventListener("click",this.onClearBtnClick.bind(this))}}onClearBtnClick(t){this.dispatch(new r.FileEvent(r.FileEvent.REMOVE_FILE_FROM_COLLECTION,{file:this.model}))}onCancelBtnClick(t){this.dispatch(new r.FileEvent(r.FileEvent.ABORT_FILE_UPLOAD,{file:this.model}))}destroy(){super.destroy(),null!==this.clearBtn&&void 0!==this.clearBtn&&this.clearBtn.removeEventListener("click",this.onClearBtnClick),null!==this.cancelBtn&&void 0!==this.cancelBtn&&this.cancelBtn.removeEventListener("click",this.onCancelBtnClick),this.fileLabel=null,this.progressBar=null,this.cancelBtn=null,this.clearBtn=null,this.statusIndicator=null,this.loadIndicator=null,this.errorIndicator=null,this.progressIndicator=null,this.pendingIndicator=null,this.abortIndicator=null,this.thumbnail=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(8),s=i(40),r=i(1),o=i(20);e.FileCollectionView=class extends n.AbstractCollectionView{constructor(){super()}get fileInput(){return this._fileInput}set fileInput(t){this._fileInput=t}get selectBtn(){return this._selectBtn}set selectBtn(t){this._selectBtn=t}getUploadEvent(t){return new o.FileEvent(o.FileEvent.UPLOAD_FILE,{file:t})}uploadFiles(t){for(let e=0;e<t.length;e++){if(t[e].type.indexOf("image")<0)continue;let i=new s.File;i.type=t[e].type,i.name=t[e].name,i.size=t[e].size,i.fileObj=t[e],i.thumbnail=window.URL.createObjectURL(t[e]),this.collection.addItem(i),this.dispatch(this.getUploadEvent(i))}}addViewEventListeners(t){super.addViewEventListeners(t),t.addEventListener(o.FileEvent.REMOVE_FILE_FROM_COLLECTION,this,"onRemoveAbortFile"),t.addEventListener(o.FileEvent.ABORT_FILE_UPLOAD,this,"onRemoveAbortFile")}removeViewEventListeners(t){super.removeViewEventListeners(t),t.removeEventListener(o.FileEvent.REMOVE_FILE_FROM_COLLECTION,this,"onRemoveAbortFile"),t.removeEventListener(o.FileEvent.ABORT_FILE_UPLOAD,this,"onRemoveAbortFile")}onRemoveAbortFile(t){this.dispatch(t),this.removeChildViewFromModel(t.payload.file)}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new r.SkinPart("fileInput",this,"fileInput")),this.skinParts.addItem(new r.SkinPart("selectBtn",this,"selectBtn"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"fileInput":this.fileInput.addEventListener("change",this.onFileInputChange.bind(this));break;case"selectBtn":this.selectBtn.addEventListener("click",this.onFileBtnClick.bind(this))}}onFileInputChange(t){let e=this.fileInput.files;e.length&&this.uploadFiles(e)}onFileBtnClick(t){this.fileInput&&this.fileInput.click(),null!==this.selectBtn.getAttribute("href")&&void 0!==this.selectBtn.getAttribute("href")&&t.preventDefault()}destroy(){super.destroy(),this.fileInput&&(this.fileInput.removeEventListener("change",this.onFileInputChange),this.fileInput=null),this.selectBtn&&(this.selectBtn.removeEventListener("click",this.onFileBtnClick),this.selectBtn=null)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);class s extends n.Subject{constructor(t,e,i=!1,s=new n.ArrayList){super(),this.selectionRequired=!1,this._isValid=!1,this.type=t,this.collection=e,this.selectionRequired=i,this.validators=s,this.setUpBindings()}get label(){return this._label}set label(t){this._label=t,this.notify(t,"label")}get errors(){return this._errors}set errors(t){this._errors=t,this.notify(t,"errors")}get validators(){return this._validators}set validators(t){this._validators=t,this.notify(t,"validators"),this.setUpBindings(),this.addEventListeners()}get isValid(){return this._isValid}set isValid(t){this._isValid=t,this.notify(t,"isValid")}get type(){return this._type}set type(t){this._type=t,this.notify(t,"type")}get collection(){return this._collection}set collection(t){this._collection=t,this.notify(t,"collection")}addEventListeners(){this.validators&&this.validators.addEventListener(n.CollectionEvent.COLLECTION_CHANGE,this,"setUpBindings")}removeEventListeners(){this.validators&&this.validators&&this.validators.addEventListener(n.CollectionEvent.COLLECTION_CHANGE,this,"setUpBindings")}setUpBindings(){if(this.binder&&this.validators){this.binder.unbindAll();for(let t=0;t<this.validators.length;t++)this.binder.bind(this.validators.getItemAt(t),"isValid",this,"validate");this.validate()}}validate(t){this.errors=new n.ArrayList;for(let t=0;t<this.validators.length;t++){let e=this.validators.getItemAt(t);e.isValid||this.errors.addAll(e.errors.source())}return this.isValid=0==this.errors.length,this.errors}clear(){for(let t=0;t<this.collection.length;t++){let e=this.collection.getItemAt(t);switch(this.type){case s.TYPE_INPUT:e.value="";break;case s.TYPE_FILE:break;case s.TYPE_RADIO_GROUP:case s.TYPE_LIST:e.selected=!1}}}destroy(){this.binder&&this.binder.unbindAll(),this.removeEventListeners(),this.binder=null,this.collection=null,this.validators=null,this.errors=null}}s.TYPE_INPUT=0,s.TYPE_LIST=1,s.TYPE_RADIO_GROUP=2,s.TYPE_FILE=3,e.InputCollectionModel=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(24),s=i(0),r=i(14);e.TextInputValidator=class extends n.AbstractValidator{constructor(){super()}setUpBindings(){this.binder.bind(this,"isValid",this.source,"isValid"),this.source.isValid=this.isValid;for(let t=0;t<this.source.collection.length;t++)this.binder.bind(this.source.collection.getItemAt(t),"value",this,"validateOnChange")}getValidationErrors(){let t=new s.ArrayList;for(let e=0;e<this.source.collection.length;e++){let i=this.source.collection.getItemAt(e);i.required&&(!i.nonFormattedValue||i.nonFormattedValue.length<=0)&&t.addItem(new r.ValidationError("required","form.required",i.label+" is required"))}return t}}},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(45)),n(i(37)),n(i(25)),n(i(61)),n(i(6)),n(i(19)),n(i(12)),n(i(20)),n(i(1)),n(i(38)),n(i(3)),n(i(3)),n(i(7)),n(i(8)),n(i(39)),n(i(13)),n(i(21)),n(i(23)),n(i(62)),n(i(63)),n(i(64)),n(i(65)),n(i(66)),n(i(67)),n(i(68)),n(i(69)),n(i(70)),n(i(40)),n(i(41)),n(i(71)),n(i(72)),n(i(73)),n(i(74)),n(i(22)),n(i(42)),n(i(24)),n(i(14)),n(i(43)),n(i(75)),n(i(76))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(25);e.Context=class{constructor(t,e){this.config=t,this.componentMap=new n.ComponentMap(this),this.startUp()}startUp(){this.mapComponents()}mapComponents(){}}},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),o=i(15),a=i(17),l=i(4),h=i(5),c=i(9),d=function(t){function e(i,n){void 0===i&&(i=NaN),void 0===n&&(n=null);var s=t.call(this)||this;return s.resultsByPage={},h.ObjectUtils.mixin(c.EventDispatcher,e,s),s._timeToLive=i,s._results=n?new n:new l.ArrayList,s._pageList=n?new n:new l.ArrayList,isNaN(s._timeToLive)||(s._intervalId=setTimeout(function(){s.clear()})),s._results.addEventListener(o.CollectionEvent.COLLECTION_CHANGE,s,"resultCollectionChanged"),s}return s(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t,this.notify(t,"id")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalRecords",{get:function(){return this._totalRecords},set:function(t){this._totalRecords=t,this._totalRecords!=t&&(this._totalRecords=t,this.notify(t,"totalRecords"),this.dispatch(new a.RecordSetEvent(a.RecordSetEvent.TOTALRECORDS_CHANGE)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalPages",{get:function(){return this._totalPages},set:function(t){this._totalPages!=t&&(this._totalPages=t,this.notify(t,"totalPages"),this.dispatch(new a.RecordSetEvent(a.RecordSetEvent.TOTALPAGES_CHANGE)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedPage",{get:function(){return this._selectedPage},set:function(t){this._selectedPage!=t&&(this._selectedPage=t,t>=1&&!this.pageLoaded(t)&&this.dispatch(new a.RecordSetEvent(a.RecordSetEvent.LOAD_PAGE_DATA,{recordSet:this})),this.calculatePageList(),this.notify(t,"selectedPage"),this.dispatch(new a.RecordSetEvent(a.RecordSetEvent.SELECTED_PAGE_CHANGE)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recordsPerPage",{get:function(){return this._recordsPerPage},set:function(t){this._recordsPerPage!=t&&(this._recordsPerPage=t,this.renewState(),this.notify(t,"recordsPerPage"),this.dispatch(new a.RecordSetEvent(a.RecordSetEvent.RECORDS_PER_PAGE_CHANGE)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"results",{get:function(){return this._results},set:function(t){this._results!=t&&(null!==this._results&&void 0!==this._results&&this._results.removeEventListener(o.CollectionEvent.COLLECTION_CHANGE,this,"resultCollectionChanged"),this._results=t,null!==this._results&&void 0!==this._results&&(this.renewState(),this.selectedPage=1,this._results.addEventListener(o.CollectionEvent.COLLECTION_CHANGE,this,"resultCollectionChanged")),this.notify(t,"results"),this.dispatch(new a.RecordSetEvent(a.RecordSetEvent.RESULTS_CHANGE)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"createdOn",{get:function(){return this._createdOn},set:function(t){this._createdOn=t,this.notify(t,"createdOn")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageList",{get:function(){return this._pageList},set:function(t){this._pageList=t,this.notify(t,"pageList"),this.dispatch(new a.RecordSetEvent(a.RecordSetEvent.PAGE_LIST_CHANGE))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeToLive",{get:function(){return this._timeToLive},set:function(t){var e=this;this._timeToLive=t,null!==this._intervalId&&void 0!==this._intervalId&&(this.clearInterval(),this._intervalId=window.setTimeout(function(){e.clear},t)),this.notify(t,"timeToLive")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(t){this._source=t,this.notify(t,"source")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"routeController",{get:function(){return this._routeController},set:function(t){this._routeController=t,this.notify(t,"routeController")},enumerable:!0,configurable:!0}),e.prototype.clearInterval=function(){null!==this._intervalId&&void 0!==this._intervalId&&clearInterval(this._intervalId)},e.prototype.clear=function(){void 0!==this.results&&null!==this.results&&this.results.clear(),this.totalRecords=0,this.totalPages=0,this.resultsByPage[this.selectedPage]=new l.ArrayList,this.resultsByPage={},this.selectedPage=-1,this.renewState()},e.prototype.pageLoaded=function(t){return null!==this.resultsByPage[t]&&void 0!==this.resultsByPage[t]&&(this.resultsByPage[t].length==this.recordsPerPage||t==this.totalPages)},e.prototype.calculatePageList=function(){this.pageList=this.resultsByPage[this.selectedPage]},e.prototype.renewState=function(){this.totalPages=Math.ceil(this.totalRecords/this.recordsPerPage);for(var t=1;t<=this.totalPages;t++){var e=(t-1)*this.recordsPerPage,i=e+this.recordsPerPage>this.totalRecords?this.totalRecords:e+this.recordsPerPage,n=new l.ArrayList;if(null!==this.results&&void 0!==this.results)for(var s=e;s<i;s++)null!==this.results.getItemAt(s)&&void 0!==this.results.getItemAt(s)&&n.addItem(this.results.getItemAt(s));n.length>0&&(this.resultsByPage[t]=n)}this.calculatePageList(),this.dispatch(new a.RecordSetEvent(a.RecordSetEvent.RESULTS_CHANGE))},e.prototype.resultCollectionChanged=function(t){this.renewState()},e.prototype.destroy=function(){this.clearInterval(),this.results=null,this.pageList=null,this.resultsByPage=null},e.USER_UPLOAD="userUpload",e.FOTOLIA="fotolia",e.FACEBOOK="facebook",e}(r.Subject);e.RecordSet=d},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(29),o=i(5),a=i(9),l=i(2),h=i(17),c=function(t){function e(){var i=t.call(this)||this;return i._recordSets=new r.RecordSetList,o.ObjectUtils.mixin(a.EventDispatcher,e,i),i}return s(e,t),Object.defineProperty(e.prototype,"recordSets",{get:function(){return this._recordSets},set:function(t){this._recordSets=t,this.notify(t,"recordSets"),this.dispatch(new h.RecordSetEvent(h.RecordSetEvent.RECORDSETS_CHANGE))},enumerable:!0,configurable:!0}),e}(l.Subject);e.RecordSetModel=c},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e._asyncOperationCount=0,e._asyncOperationComplete=!0,e._asyncOperationDescription="",e}return s(e,t),Object.defineProperty(e.prototype,"asyncOperationCount",{get:function(){return this._asyncOperationCount},set:function(t){this._asyncOperationCount=t,this.notify(t,"asyncOperationCount")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncOperationComplete",{get:function(){return this.asyncOperationCount<=0},set:function(t){this._asyncOperationComplete=t,this.notify(t,"asyncOperationComplete")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncOperationDescription",{get:function(){return this._asyncOperationDescription},set:function(t){this._asyncOperationDescription=t,this.notify(t,"asyncOperationDescription")},enumerable:!0,configurable:!0}),e.prototype.addAsyncOperation=function(t){void 0===t&&(t=""),t.length>0&&(this.asyncOperationDescription+=(this.asyncOperationDescription.length?"\n":"")+t),this.asyncOperationComplete=!1,this.asyncOperationCount+=1},e.prototype.removeAsyncOperation=function(){this.asyncOperationCount-=1,this.asyncOperationCount||(this.asyncOperationDescription="",this.asyncOperationComplete=!0)},e}(i(2).Subject);e.AsyncOperationModel=r},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e._webRoot="",e._parserCode=void 0,e._exporterCode=void 0,e._token=void 0,e._serviceCode=void 0,e._asyncOperationModel=void 0,e._errorModel=void 0,e}return s(e,t),Object.defineProperty(e.prototype,"errorModel",{get:function(){return this._errorModel},set:function(t){this._errorModel=t,this.notify(t,"errorModel")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncOperationModel",{get:function(){return this._asyncOperationModel},set:function(t){this._asyncOperationModel=t,this.notify(t,"asyncOperationModel")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serviceCode",{get:function(){return this._serviceCode},set:function(t){this._serviceCode=t,this.notify(t,"serviceCode")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this._baseUrl},set:function(t){this._baseUrl=t,this.notify(t,"baseUrl")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"webRoot",{get:function(){return this._webRoot},set:function(t){this._webRoot=t,this.notify(t,"webRoot")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parserCode",{get:function(){return this._parserCode},set:function(t){this._parserCode=t,this.notify(t,"parserCode")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exporterCode",{get:function(){return this._exporterCode},set:function(t){this._exporterCode=t,this.notify(t,"exporterCode")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"token",{get:function(){return this._token},set:function(t){this._token=t,this.notify(t,"token")},enumerable:!0,configurable:!0}),e}(i(2).Subject);e.Config=r},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),o=i(4),a=function(t){function e(){var e=t.call(this)||this;return e._appError=!1,e._showConfirmationOption=!1,e._errors=new o.ArrayList,e}return s(e,t),Object.defineProperty(e.prototype,"appError",{get:function(){return this._appError},set:function(t){this._appError=t,this.notify(t,"appError")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showConfirmationOption",{get:function(){return this._showConfirmationOption},set:function(t){this._showConfirmationOption=t,this.notify(t,"showConfirmationOption")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},set:function(t){this._errors=t,this.notify(t,"errors")},enumerable:!0,configurable:!0}),e.prototype.getTitle=function(){return this.errors.length>1?"Multiple errors have occurred.\n":"The following error occurred.\n"},e.prototype.getMessage=function(){for(var t="",e=0;e<this.errors.length;e++)t+="Name: "+this.errors.getItemAt(e).name+"\n",t+="Message: "+this.errors.getItemAt(e).message+"\n",t+="\n";return t},e.prototype.addError=function(t){this.errors.addItem(t),this.appError=!0},e.prototype.clear=function(){this.errors.clear(),this.appError=!1},e}(r.Subject);e.ErrorModel=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e){this.browser=t,this.version=e}}();e.BrowserInfo=n;var s=function(){function t(){}return t.uaMatch=function(t){t=t.toLowerCase();var e=/(ipad).*(?:safari)[ \/]([\w.]+)/.exec(t)||/(android)[ chrome\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(safari)[ \/]([\w.]+)/.exec(t)||/(firefox)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||/trident.*rv[ :]*[1-9]\d\./.exec(t.toLowerCase())||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];/trident.*rv[ :]*[1-9]\d\./.exec(t.toLowerCase())&&(e[1]="msie",e[2]=/[1-9]\d\./.exec(t));var i=e[1]||"",s=e[2]||"0";return new n(i,s)},t.getBrowser=function(){var e=new n("nodeJS","nodeJS");try{navigator&&(e=t.uaMatch(navigator.userAgent))}catch(t){console.log(t.stack)}return e},t}();e.BrowserUtils=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.rgb2hex=function(t){var e=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return null==e||e.length<=0?null:"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2)},t.hexToRgb=function(t){var e;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)){3==(e=t.substring(1).split("")).length&&(e=[e[0],e[0],e[1],e[1],e[2],e[2]]);var i=Number("0x"+e.join(""));return"rgb("+[i>>16&255,i>>8&255,255&i].join(",")+")"}throw new Error("Bad Hex")},t.hexToRgbA=function(t){var e;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)){3==(e=t.substring(1).split("")).length&&(e=[e[0],e[0],e[1],e[1],e[2],e[2]]);var i=Number("0x"+e.join(""));return"rgba("+[i>>16&255,i>>8&255,255&i].join(",")+",1)"}throw new Error("Bad Hex")},t.hexToRgbArray=function(t){var e;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)){3==(e=t.substring(1).split("")).length&&(e=[e[0],e[0],e[1],e[1],e[2],e[2]]);var i=Number("0x"+e.join(""));return[i>>16&255,i>>8&255,255&i]}throw new Error("Bad Hex")},t.rgbToHsl=function(t,e,i){t/=255,e/=255,i/=255;var n,s,r=Math.max(t,e,i),o=Math.min(t,e,i),a=(r+o)/2;if(r==o)n=s=0;else{var l=r-o;switch(s=a>.5?l/(2-r-o):l/(r+o),r){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return[Math.floor(360*n),Math.floor(100*s),Math.floor(100*a)]},t.rgbToHsv=function(t,e,i){var n,s,r,o=Math.min(t,e,i),a=Math.max(t,e,i),l=a-o;return r=Math.floor(a/255*100),0==a?[0,0,0]:(s=Math.floor(l/a*100),n=t==a?(e-i)/l:e==a?2+(i-t)/l:4+(t-e)/l,(n=Math.floor(60*n))<0&&(n+=360),[n,s,r])},t}();e.ColorUtils=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.globalToLocal=function(e,i,n){var r=t.offset(e);return new s(i-r.left,n-r.top)},t.offset=function(e){var i,n={top:0,left:0},s=e,r=s&&s.ownerDocument;if(r){var o=r.documentElement;return o.contains(s)?(n=s.getBoundingClientRect(),i=t.getWindow(r),{top:n.top+(i.pageYOffset||o.scrollTop)-(o.clientTop||0),left:n.left+(i.pageXOffset||o.scrollLeft)-(o.clientLeft||0)}):n}},t.getWindow=function(e){return t.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:null},t.isWindow=function(t){return null!=t&&t.hasOwnProperty("window")&&t==t.window},t}();e.CoordsUtils=n;var s=function(){return function(t,e){this.top=t,this.left=e}}();e.Offset=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.copyInheredValues=function(t,e){for(var i in e)!t.hasOwnProperty(i)||void 0!==t[i]&&null!==t[i]&&""!==t[i]&&NaN!==t[i]||(t[i]=e[i])},t.overwriteValues=function(t,e,i){for(var n in void 0===i&&(i={}),e)if(t.hasOwnProperty(n)){var s=i.hasOwnProperty(n)?t[n]:e[n];t[n]=s}},t.concatObjects=function(t){for(var e={},i=t.length,n=0;n<i;n++)for(var s in t[n])t[n].hasOwnProperty(s)&&(e[s]=t[n][s]);return e},t.copyProperties=function(t,e){for(var i in e)"function"!=typeof e[i]&&(t[i]=e[i])},t}();e.CopyUtils=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18),s=i(32),r=i(11),o=i(10),a=function(){function t(){}return t.parsePathFromString=function(t){var e,i=(t=s.StringUtil.trim(s.StringUtil.compressSpaces(t))).split(" "),r=0,a=[],l=i.length;do{e=i[r];var h=parseFloat(e);if(isNaN(h)||null==h)a.push(e);else{var c=parseFloat(i[++r]);a.push(new o.Point(n.MathUtils.toFixed(h),n.MathUtils.toFixed(c)))}}while(++r<l);return a},t.isPoint=function(t){return t.hasOwnProperty("x")&&t.hasOwnProperty("y")},t.convertPathToString=function(e){var i="";return e.forEach(function(e){t.isPoint(e)?i+=n.MathUtils.toFixed(e.x)+" "+n.MathUtils.toFixed(e.y):i+=e,i+=" "}),s.StringUtil.trim(i)},t.movePath=function(e,i,n,s){s=null==s||s;var r=[];return e.forEach(function(e){t.isPoint(e)?s?(e.x+=i,e.y+=n):r.push(new o.Point(e.x+i,e.y+n)):s||r.push(e)}),s?e:r},t.scalePath=function(e,i,n,s,a){a=null==a||a,s=s||new o.Point(0,0);var l=new r.Matrix,h=(l=l.scale(i,n,s)).transformPoint(new o.Point(0,0)),c=[];return e.forEach(function(e){if(t.isPoint(e)){var i=l.transformPoint(e);a?(e.x=i.x-h.x,e.y=i.y-h.y):c.push(new o.Point(i.x-h.x,i.y-h.y))}else a||c.push(e)}),a?e:c},t.rotatePath=function(e,i,s,o){o=null==o||o;var a=new r.Matrix;a=a.rotate(n.MathUtils.degreeToRadian(s),i);var l=[];return e.forEach(function(e){if(t.isPoint(e)){var i=a.transformPoint(e);o?(e.x=i.x,e.y=i.y):l.push(i)}else o||l.push(e)}),o?e:l},t.convertPathFromLocalToGlobal=function(e,i){var n=t.movePath(e,i.left,i.top,!1),s=new o.Point(i.left+i.width/2,i.top+i.height/2);return t.rotatePath(n,s,i.rotation),n},t.convertPathFromGlobalToLocal=function(e,i){var n=new o.Point(i.left+i.width/2,i.top+i.height/2),s=t.rotatePath(e,n,-i.rotation,!1);return t.movePath(s,-i.left,-i.top),s},t}();e.PathUtils=a;var l=function(){function t(t){this.arrPath=t,this.i=-1,this.command="",this.previousCommand="",this.start=new o.Point(0,0),this.control=new o.Point(0,0),this.current=new o.Point(0,0)}return t.prototype.isEnd=function(){return this.i>=this.arrPath.length-1},t.prototype.isCommandOrEnd=function(){if(this.isEnd())return!0;var t=this.arrPath[this.i+1];return("string"==typeof t||t instanceof String)&&null!=t.match(/^[A-Za-z]$/)},t.prototype.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},t.prototype.getToken=function(){return this.i++,this.arrPath[this.i]},t.prototype.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},t.prototype.getPoint=function(){var t=this.getToken();return this.makeAbsolute(t)},t.prototype.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},t.prototype.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},t.prototype.getReflectedControlPoint=function(){return this.previousCommand instanceof String&&"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new o.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},t.prototype.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},t}();e.PathParser=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getScaleToFill=function(t,e){return e.height/e.width>t.height/t.width?e.height/t.height:e.width/t.width},t.getScaleToFit=function(t,e){return Math.min(e.width/t.width,e.height/t.height)},t}();e.ResizeUtils=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(30),s=i(11),r=i(31),o=i(10),a=function(){function t(){}return t.calculateMovement=function(t,e){if(!e)return null;var i=e.x||0,s=e.y||0,r=null;return t.hasOwnProperty("left")&&t.hasOwnProperty("top")?r={geometry:new n.Geometry({left:t.left+i,top:t.top+s})}:t.hasOwnProperty("left")?r={left:t.left+i}:t.hasOwnProperty("top")&&(r={top:t.top+s}),r},t.calculateResizeAroundAnchorPoint=function(e,i,s,r){var o=i.width||0,a=i.height||0;if(s=s||t.getDefaultAnchorPos(),!(e.hasOwnProperty("width")&&e.hasOwnProperty("height")&&e.hasOwnProperty("top")&&e.hasOwnProperty("left")&&(o||a)))return null;var l=new n.Geometry({width:e.width+o,height:e.height+a});r&&r.applyConstraint(e,null,l,s);var h=this.getPosAfterResizeAroundAnchorPoint(e,l,s);return h&&l.update(h),{geometry:l}},t.calculateRotate=function(t,e){if(!e)return null;var i=null;return t.hasOwnProperty("rotation")&&(i={rotation:t.rotation+e}),i},t.getPosAfterResizeAroundAnchorPoint=function(e,i,n){if(!e.hasOwnProperty("width")||!e.hasOwnProperty("height"))return null;var a=i.hasOwnProperty("width")?i.width-e.width:0,l=i.hasOwnProperty("height")?i.height-e.height:0;if(n=n||t.getDefaultAnchorPos(),!a&&!l)return null;var h=new o.Point(a*n.x,l*n.y);if(e.hasOwnProperty("rotation")&&e.rotation){var c=new o.Point(e.width/2,e.height/2),d=new o.Point(h.x+(e.width+a)/2,h.y+(e.height+l)/2),u=new s.Matrix,p=(u=r.MatrixUtils.rotate(u,e.rotation,c)).transformPoint(h),f=u.transformPoint(d),v=new s.Matrix;h=(v=r.MatrixUtils.rotate(v,-e.rotation,f)).transformPoint(p)}return{left:e.left+h.x,top:e.top+h.y}},t.getDefaultAnchorPos=function(){return new o.Point(-.5,-.5)},t.applyConstraints=function(t,e,i,n,s){s&&s.forEach(function(s){s.applyConstraint(t,e,i,n)})},t.applyTransform=function(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(t[i]=e[i])},t}();e.TransformUtils=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getQuerystring=function(t,e,i){null==i&&(i=""),e=(e=e.toLowerCase()).replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t.toLowerCase());return null==n?i:n[1]},t}();e.URLUtils=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.createXMLDocument=function(t){return(new DOMParser).parseFromString(t,"text/xml")},t.getXmlStringFromElement=function(t){return(new XMLSerializer).serializeToString(t)},t}();e.XmlUtils=n},function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(34),o=i(35),a=function(t){function e(e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var n=t.call(this)||this;return n.async=e,n.notifyOnProgress=i,n}return s(e,t),e.prototype.addEventListeners=function(){this.notifyOnProgress&&this.xhrRequest.addEventListener("progress",this.updateProgress,!1),this.xhrRequest.addEventListener("load",this.load,!1),this.xhrRequest.addEventListener("error",this.onXhrFault,!1)},e.prototype.removeEventListeners=function(){this.xhrRequest.removeEventListener("load",this.load,!1),this.xhrRequest.removeEventListener("error",this.onXhrFault,!1),this.xhrRequest.removeEventListener("progress",this.updateProgress,!1)},e.prototype.success=function(t){if(200==this.xhrRequest.status){for(var e=new r.HttpSuccess(this.xhrRequest.response,this.xhrRequest.status,this.requestId),i=0;i<this.responders.length;i++){this.responders.getItemAt(i).success(e)}this.destroy()}else{var n=new o.HttpFault(this.xhrRequest.response,this.xhrRequest.status,this.xhrRequest.response,this.requestId);this.fault(n)}},e.prototype.fault=function(t){for(var e=0;e<this.responders.length;e++){this.responders.getItemAt(e).fault(t)}this.destroy()},e.prototype.load=function(t){if(this.notifyOnProgress)for(var e=0;e<this.responders.length;e++){this.responders.getItemAt(e).onProgress(100,this.requestId)}},e.prototype.updateProgress=function(t){for(var e=t.loaded/(t.total>0?t.total:t.loaded),i=0;i<this.responders.length;i++){this.responders.getItemAt(i).onProgress(e,this.requestId)}},e.prototype.send=function(e,i,n,s,r,o,a){void 0===o&&(o=!1),void 0===a&&(a=[]);var l=t.prototype.send.call(this,e,i,n,s,r,o);this.xhrRequest=new XMLHttpRequest,this.addEventListeners(),this.xhrRequest.onreadystatechange=function(t){4==this.xhrRequest.readyState&&this.success(this.xhrRequest.response)}.bind(this),this.xhrRequest.open(e,i,this.async);for(var h=0;h<a.length;h++)this.xhrRequest.setRequestHeader(a[h].header,a[h].value);return null!==r&&(this.xhrRequest.responseType=r),null!==s&&this.xhrRequest.setRequestHeader("Content-Type",s),this.xhrRequest.send(n),l},e.prototype.onXhrFault=function(t){var e=new o.HttpFault(this.xhrRequest.response,this.xhrRequest.status,this.xhrRequest.response,this.requestId);this.fault(e)},e.prototype.abort=function(){this.xhrRequest.onreadystatechange=null,this.removeEventListeners(),this.xhrRequest.abort(),this.destroy()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeEventListeners(),this.xhrRequest.onreadystatechange=null,this.xhrRequest=null},e}(i(36).AbstractHttpService);e.XhrHttpService=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LotusHTMLElement=class extends HTMLDivElement{constructor(){super()}createShadowRoot(){return super.createShadowRoot()}getComponentInstance(){return this.lotusComponentInstance}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(7),s=i(1),r=i(19),o=i(22);e.Input=class extends n.AbstractItemView{constructor(t){super(),this.type=t}get label(){return this._label}set label(t){this._label=t,this.notify(t,"label")}get inputSkinPart(){return this._inputSkinPart}set inputSkinPart(t){this._inputSkinPart=t,this.notify(t,"inputSkinPart")}get type(){return this._type}set type(t){this._type=t,this.notify(t,"type")}get value(){return this._value}set value(t){this._value=t,this.inputSkinPart&&(this.inputSkinPart.value=t),this.notify(t,"value")}attachValidationClass(t,e){this.inputSkinPart&&(this.inputSkinPart.classList.remove(e),this.inputSkinPart.classList.add(t))}onModelChange(t){super.onModelChange(t),t instanceof o.InputModel&&(this.binder.bind(t,"value",this,"value"),this.binder.bind(this,"value",t,"value"),this.value=t.value),this.label&&t.label&&(this.label.innerHTML=t.label)}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("input",this,"inputSkinPart")),this.skinParts.addItem(new s.SkinPart("label",this,"label"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"input":if(console.log("Lotus.Input.prototype.onSkinPartAdded: part: "+t),this.inputSkinPart.setAttribute("type",this.type),this.addEventListeners(),this.model){this.inputSkinPart.value=this.model.value;var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),this.inputSkinPart.dispatchEvent(i)}break;case"label":this.model&&this.model.label&&(this.label.innerHTML=this.model.label)}}onChange(t){console.log("Lotus.Input.prototype.onChange: input value is "+t.target.value),console.log("Lotus.Input.prototype.onChange: my id is "+this.id),this.value=this.inputSkinPart.value,this.dispatch(new r.InputEvent(r.InputEvent.CHANGE,{target:this,originalEvent:t}))}addEventListeners(){super.addEventListeners(),this.inputSkinPart.addEventListener("change",this.onChange.bind(this))}removeEventListeners(){super.removeEventListeners(),this.inputSkinPart.removeEventListener("change",this.onChange)}destroy(){super.destroy(),this.inputSkinPart=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(3),s=i(1),r=i(6);e.Button=class extends n.AbstractComponent{constructor(){super()}get buttonSkinPart(){return this._buttonSkinPart}set buttonSkinPart(t){this._buttonSkinPart=t,this.notify(t,"buttonSkinPart")}get type(){return this._type}set type(t){this._type=t,this.notify(t,"type")}onClick(t){console.log("Lotus.Button.prototype.onClick: event is "+t),console.log("Lotus.Button.prototype.onClick: my id is "+this.id),console.log("Lotus.Button.prototype.onClick: this "+this),this.dispatch(new r.ComponentEvent(r.ComponentEvent.CLICK,{target:this.buttonSkinPart,originalEvent:t}))}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("button",this,"buttonSkinPart"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"button":console.log("Lotus.Button.prototype.onSkinPartAdded: part: "+t),console.log("Lotus.Button.prototype.onSkinPartAdded: skinPart: "+t),this.addEventListeners()}}addEventListeners(){super.addEventListeners(),this.buttonSkinPart.addEventListener("click",this.onClick.bind(this))}removeEventListeners(){super.removeEventListeners(),this.buttonSkinPart.removeEventListener("click",this.onClick)}destroy(){super.destroy(),this.buttonSkinPart=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(21),s=i(1);e.ListItemView=class extends n.AbstractSelectableFormInput{constructor(){super()}get option(){return this._option}set option(t){this._option=t}refreshView(t){this.option&&(this.option.selected=t)}onClick(t){this.selected=!0}addEventListeners(){super.addEventListeners(),this.option.addEventListener("click",this.onClick.bind(this))}removeEventListeners(){super.removeEventListeners(),this.option&&this.option.removeEventListener("click",this.onClick)}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("itemTemplate",this,"option"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"itemTemplate":this.option.value="object"==typeof this.model.value?JSON.stringify(this.model.value):this.model.value,this.option.innerHTML=this.model.label,this.option.selected=this.selected,this.selected&&this.onClick()}}destroy(){super.destroy(),this.option=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(21),s=i(1);e.RadioItemView=class extends n.AbstractSelectableFormInput{constructor(){super()}get radio(){return this._radio}set radio(t){this._radio=t}get label(){return this._label}set label(t){this._label=t}onClick(t){this.selected=this.radio.checked}refreshView(t){this.radio&&(this.radio.checked=t)}addEventListeners(){super.addEventListeners(),this.radio.addEventListener("click",this.onClick.bind(this))}removeEventListeners(){super.removeEventListeners(),this.radio&&this.radio.removeEventListener("click",this.onClick)}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("radio",this,"radio")),this.skinParts.addItem(new s.SkinPart("label",this,"label"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"radio":this.radio.value="object"==typeof this.model.value?JSON.stringify(this.model.value):this.model.value,this.radio.name=this.model.name,this.radio.checked=this.selected,this.addEventListeners();break;case"label":this.label.innerHTML=this.model.label}}destroy(){super.destroy(),this.removeEventListeners(),this.radio=null,this.label=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(39);e.ImageGalleryCollectionView=class extends n.AbstractRecordSetCollectionView{constructor(){super()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(1),s=i(3);e.ImageGalleryItemDetail=class extends s.AbstractComponent{constructor(){super()}get asset(){return this._asset}set asset(t){this._asset=t,this.notify(t,"asset"),this.render()}get nameLabel(){return this._nameLabel}set nameLabel(t){this._nameLabel=t,this.notify(t,"nameLabel")}get dateCreatedLabel(){return this._dateCreatedLabel}set dateCreatedLabel(t){this._dateCreatedLabel=t,this.notify(t,"dateCreatedLabel")}get urlLabel(){return this._urlLabel}set urlLabel(t){this._urlLabel=t,this.notify(t,"urlLabel")}render(){this.asset&&this.ready&&(this.nameLabel&&(this.nameLabel.innerHTML=this.asset.objectName),this.dateCreatedLabel&&(this.dateCreatedLabel.innerHTML=this.asset.createdDate.toDateString()),this.urlLabel&&(this.urlLabel.innerHTML=this.asset.url))}defineSkinParts(){this.skinParts.addItem(new n.SkinPart("nameLabel",this,"nameLabel")),this.skinParts.addItem(new n.SkinPart("dateCreatedLabel",this,"dateCreatedLabel")),this.skinParts.addItem(new n.SkinPart("urlLabel",this,"urlLabel"))}created(t){super.created(t)}destroy(){super.destroy(),this.asset=null,this.nameLabel=null,this.dateCreatedLabel=null,this.urlLabel=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(13),s=i(1),r=i(6);e.ImageGalleryView=class extends n.AbstractThumbnailView{constructor(){super()}get itemDetail(){return this._itemDetail}set itemDetail(t){this._itemDetail=t,this.notify(t,"itemDetail")}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("itemDetail",this,"itemDetail"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"itemDetail":this.model&&(this.itemDetail.lotusComponentInstance.asset=this.model,this.itemDetail.lotusComponentInstance.addEventListener(r.ComponentEvent.READY,this,"onItemDetailReady"))}}onItemDetailReady(t){this.model&&(this.itemDetail.lotusComponentInstance.asset=this.model)}onModelChange(t){super.onModelChange(t),this.itemDetail&&(this.itemDetail.lotusComponentInstance.asset=t)}onDragStart(t){if(null!==t.dataTransfer&&void 0!==t.dataTransfer){t.dataTransfer.effectAllowed="all";try{t.dataTransfer.setData("galleryImage",this.model.source)}catch(e){t.dataTransfer.setData("text",this.model.source)}}else{t.originalEvent.dataTransfer.effectAllowed="all";try{t.originalEvent.dataTransfer.setData("galleryImage",this.model.source)}catch(e){t.originalEvent.dataTransfer.setData("text",this.model.source)}}}destroy(){super.destroy(),this.itemDetail&&this.itemDetail.lotusComponentInstance.removeEventListener(r.ComponentEvent.READY,this,"onItemDetailReady"),this.itemDetail=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(23),s=i(1);e.ListCollectionView=class extends n.AbstractInputCollectionView{constructor(){super()}get prompt(){return this._prompt}set prompt(t){this._prompt=t,this.notify(t,"prompt")}onChange(t){let e=this.prompt?t.target.selectedIndex-1:t.target.selectedIndex;e<0||this.childViews.getItemAt(e).onClick()}addEventListeners(){super.addEventListeners(),this.collectionContainer.addEventListener("change",this.onChange.bind(this))}removeEventListeners(){super.removeEventListeners(),this.collectionContainer.removeEventListener("change",this.onChange)}addPrompt(){this.prompt&&this.model&&this.model.label&&(this.prompt.innerHTML=this.model.label)}addCollectionEventListeners(){super.addCollectionEventListeners(),this.addPrompt()}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("prompt",this,"prompt"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"collectionContainer":this.addEventListeners();break;case"prompt":this.addPrompt()}}refreshView(t){this.collectionContainer&&(this.collectionContainer.value=t),this.selectedItem&&!this.selectedItem.element.selected&&(this.selectedItem.element.selected=!0)}destroy(){this.removeEventListeners(),super.destroy(),this.prompt=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(23),s=i(1);e.RadioCollectionView=class extends n.AbstractInputCollectionView{constructor(){super()}get legend(){return this._legend}set legend(t){this._legend=t,this.notify(t,"legend")}refreshView(t){this.selectedItem&&(this.selectedItem.element.checked=!0)}addCollectionEventListeners(){super.addCollectionEventListeners(),this.setLegend()}setLegend(){this.legend&&this.model&&this.model.label&&(this.legend.innerHTML=this.model.label)}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("legend",this,"legend"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"label":this.setLegend()}}destroy(){super.destroy(),this.legend=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(41),s=i(1);e.DragDropFileCollectionView=class extends n.FileCollectionView{constructor(){super()}get dragOverClass(){return this._dragOverClass}set dragOverClass(t){this._dragOverClass=t,this.notify(t,"dragOverClass")}get dropTarget(){return this._dropTarget}set dropTarget(t){this._dropTarget=t,this.notify(t,"dropTarget")}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("dropTarget",this,"dropTarget"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"dropTarget":this.dropTarget.addEventListener("drop",this.onDrop.bind(this),!1),window.addEventListener("drop",this.onPreventDrop.bind(this),!1),window.addEventListener("dragover",this.onPreventDrop.bind(this),!1),this.dropTarget.addEventListener("dragover",this.onDragOver.bind(this),!1),this.dropTarget.addEventListener("dragenter",this.onDragOver.bind(this),!1),this.dropTarget.addEventListener("dragleave",this.onDragLeave.bind(this),!1)}}onPreventDrop(t){t.preventDefault(),t.stopPropagation()}onDrop(t){t.preventDefault(),t.stopPropagation(),null!==this.dragOverClass&&void 0!==this.dragOverClass&&this.dropTarget.classList.remove(this.dragOverClass);let e=null!==t.dataTransfer&&void 0!==t.dataTransfer?t.dataTransfer.files:t.originalEvent.dataTransfer.files;null!=e&&e.length&&this.uploadFiles(e)}onDragOver(t){t.preventDefault(),t.stopPropagation(),null!==this.dragOverClass&&void 0!==this.dragOverClass&&this.dropTarget.classList.add(this.dragOverClass),null!==t.dataTransfer&&void 0!==t.dataTransfer&&null!==t.dataTransfer.files&&void 0!==t.dataTransfer.files?t.dataTransfer.dropEffect="copy":null!==t.originalEvent.dataTransfer.files&&void 0!==t.originalEvent.dataTransfer.files&&(t.originalEvent.dataTransfer.dropEffect="copy")}onDragLeave(t){null!==this.dragOverClass&&void 0!==this.dragOverClass&&this.dropTarget.classList.remove(this.dragOverClass)}destroy(){super.destroy(),this.dropTarget&&(this.dropTarget.removeEventListener("drop",this.onDrop),this.dropTarget.removeEventListener("dragover",this.onDragOver),this.dropTarget.removeEventListener("dragenter",this.onDragOver),this.dropTarget.removeEventListener("dragleave",this.onDragLeave),window.removeEventListener("drop",this.onPreventDrop,!1),window.removeEventListener("dragover",this.onPreventDrop,!1),this.dropTarget=null),this.onDrop=null,this.onDragOver=null,this.dropTarget=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(13),s=i(1);e.Image=class extends n.AbstractThumbnailView{get loadingSVG(){return this._loadingSVG}set loadingSVG(t){this._loadingSVG=t}getImageURL(t){return t?t.src:this.model?this.model.src:""}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("loadingSVG",this,"loadingSVG"))}onImageLoad(t){super.onImageLoad(t),this.setElementDisplay(this.loadingSVG,"none")}setThumbnailSrc(t){super.setThumbnailSrc(t),this.setElementDisplay(this.loadingSVG,this._loadingSVGStyle)}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"loadingSVG":this._loadingSVGStyle=this.loadingSVG.style.display}}destroy(){super.destroy(),this.loadingSVG=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(7),s=i(42),r=i(1),o=i(6);e.FormItemView=class extends n.AbstractItemView{get activeSkinPart(){return this._activeSkinPart}get input(){return this._input}set input(t){this._input=t,this.notify(t,"input")}get list(){return this._list}set list(t){this._list=t,this.notify(t,"list")}get radioGroup(){return this._radioGroup}set radioGroup(t){this._radioGroup=t,this.notify(t,"radioGroup")}get file(){return this._file}set file(t){this._file=t,this.notify(t,"file")}removeSkinPart(t,e){t.lotusComponentInstance.ready&&t.lotusComponentInstance.destroy(),e&&e.removeChild(t),this.input==t?this.input=null:this.list==t?this.list=null:this.radioGroup==t?this.radioGroup=null:this.file==t&&(this.file=null)}setUpSkinParts(){if(!this.ready||!this.model)return;let t,e,i=[this.input,this.list,this.radioGroup,this.file];switch(this.model.type){case s.InputCollectionModel.TYPE_INPUT:this.setUpSkinPart(this.input.lotusComponentInstance),i.shift();break;case s.InputCollectionModel.TYPE_LIST:this.setUpSkinPart(this.list.lotusComponentInstance),t=i.slice(0,1),e=i.slice(2),i=t.concat(e);break;case s.InputCollectionModel.TYPE_RADIO_GROUP:this.setUpSkinPart(this.radioGroup.lotusComponentInstance),t=i.slice(0,2),e=i.slice(3),i=t.concat(e);break;case s.InputCollectionModel.TYPE_FILE:this.setUpSkinPart(this.file.lotusComponentInstance),i.pop()}for(let t=0;t<i.length;t++)this.removeSkinPart(i[t],i[t].parentElement)}setUpSkinPart(t){this._activeSkinPart=t,t.ready?this.setComponentModel(this.model,t):t.addEventListener(o.ComponentEvent.READY,this,"onItemDetailReady")}setComponentModel(t,e){if(t){switch(t.type){case s.InputCollectionModel.TYPE_INPUT:case s.InputCollectionModel.TYPE_FILE:e.model=t.collection.getItemAt(0);break;case s.InputCollectionModel.TYPE_LIST:case s.InputCollectionModel.TYPE_RADIO_GROUP:e.model=t}this.binder.bind(t,"isValid",e,"isValid"),e.isValid=t.isValid}}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new r.SkinPart("input",this,"input")),this.skinParts.addItem(new r.SkinPart("list",this,"list")),this.skinParts.addItem(new r.SkinPart("radioGroup",this,"radioGroup")),this.skinParts.addItem(new r.SkinPart("file",this,"file"))}onSkinPartAdded(t,e){super.onSkinPartAdded(t,e),this.input&&this.radioGroup&&this.file&&this.list&&this.model&&this.onReady()}onItemDetailReady(t){this.setComponentModel(this.model,t.payload.target),t.payload.target.removeEventListener(o.ComponentEvent.READY,this,"onItemDetailReady")}onReady(){super.onReady(),this.setUpSkinParts()}onModelChange(t){super.onModelChange(t),t&&(this.binder.bind(t,"isValid",this,"isValid"),this.isValid=t.isValid,this.setUpSkinParts())}destroy(){super.destroy(),this.activeSkinPart.destroy(),this._activeSkinPart=null,this.input=null,this.file=null,this.list=null,this.radioGroup=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(8),s=i(1),r=i(0);class o extends n.AbstractCollectionView{constructor(){super(),this._state=0}get submit(){return this._submit}set submit(t){this._submit=t,this.notify(t,"submit")}get clear(){return this._clear}set clear(t){this._clear=t,this.notify(t,"clear")}get back(){return this._back}set back(t){this._back=t,this.notify(t,"back")}get error(){return this._error}set error(t){this._error=t,this.notify(t,"error")}get state(){return this._state}set state(t){this.resolveState(t,this.state),this._state=t,this.notify(t,"state")}get validationWarning(){return this._validationWarning}set validationWarning(t){this._validationWarning=t,this.notify(t,"validationWarning")}get inputState(){return this._inputState}set inputState(t){this._inputState=t,this.notify(t,"inputState")}get submitState(){return this._submitState}set submitState(t){this._submitState=t,this.notify(t,"submitState")}get errorState(){return this._errorState}set errorState(t){this._errorState=t,this.notify(t,"errorState")}clearErrors(){if(this.error)for(;this.error.firstChild;)this.error.removeChild(this.error.firstChild)}addErrors(t){if(this.error)for(let e=0;e<t.length;e++){let i=t.getItemAt(e),n=document.createElement("p"),s=document.createTextNode(i.errorMessage);n.appendChild(s),this.error.appendChild(n)}}onSubmit(t){this.clearErrors();let e=new r.ArrayList;for(let t=0;t<this.collection.length;t++)this.collection.getItemAt(t).isValid||e.addAll(this.collection.getItemAt(t).errors.source());e.length>0?(this.addErrors(e),this.validationWarning&&(this.validationWarning.style.display=this._validationWarningDisplay),this.error&&(this.error.style.display=this._errorDisplay)):(this.state=o.SUBMIT,this.validationWarning&&(this.validationWarning.style.display="none"),this.error&&(this.error.style.display="none"))}onClear(t){this.reset()}reset(){for(let t=0;t<this.collection.length;t++)this.collection.getItemAt(t).clear();this.state=o.INPUT}onBack(t){this.state=o.INPUT}resolveState(t,e,i){switch(e){case o.INPUT:this.inputState&&t!=o.VALIDATION_ERROR&&(this.inputState.style.display="none");break;case o.SUBMIT:this.submitState&&(this.submitState.style.display="none");break;case o.ERROR:this.errorState&&(this.errorState.style.display="none")}switch(t){case o.INPUT:this.inputState&&(this.inputState.style.display=this._inputStateDisplay);break;case o.SUBMIT:this.submitState&&(this.submitState.style.display=this._submitStateDisplay);break;case o.ERROR:this.errorState&&(this.errorState.style.display=this._errorStateDisplay)}}onError(t){}onReady(){super.onReady(),this.resolveState(o.INPUT,null)}defineSkinParts(){super.defineSkinParts(),this.skinParts.addItem(new s.SkinPart("validationWarning",this,"validationWarning")),this.skinParts.addItem(new s.SkinPart("inputState",this,"inputState")),this.skinParts.addItem(new s.SkinPart("submitState",this,"submitState")),this.skinParts.addItem(new s.SkinPart("errorState",this,"errorState")),this.skinParts.addItem(new s.SkinPart("error",this,"error")),this.skinParts.addItem(new s.SkinPart("submit",this,"submit")),this.skinParts.addItem(new s.SkinPart("clear",this,"clear")),this.skinParts.addItem(new s.SkinPart("back",this,"back"))}onSkinPartAdded(t,e){switch(super.onSkinPartAdded(t,e),t){case"back":this.back.addEventListener("click",this.onBack.bind(this));break;case"clear":this.clear.addEventListener("click",this.onClear.bind(this));break;case"submit":this.submit.addEventListener("click",this.onSubmit.bind(this));break;case"validationWarning":this._validationWarningDisplay=this.validationWarning.style.display,this.validationWarning.style.display="none";break;case"inputState":this._inputStateDisplay=this.inputState.style.display,this.inputState.style.display="none";break;case"submitState":this._submitStateDisplay=this.submitState.style.display,this.submitState.style.display="none";break;case"errorState":this._errorStateDisplay=this.errorState.style.display,this.errorState.style.display="none";break;case"error":this._errorDisplay=this.error.style.display,this.error.style.display="none"}}destroy(){super.destroy()}}o.INPUT=0,o.VALIDATION_ERROR=1,o.SUBMIT=2,o.ERROR=2,e.FormCollectionView=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(43),s=i(0),r=i(14);e.PhoneNumberValidator=class extends n.TextInputValidator{constructor(){super()}getValidationErrors(){let t=new s.ArrayList;for(let e=0;e<this.source.collection.length;e++){let i=this.source.collection.getItemAt(e);i.required&&(!i.nonFormattedValue||i.nonFormattedValue.length<=0||!i.nonFormattedValue.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/))&&t.addItem(new r.ValidationError("required","form.invalidPhone",i.label+" is not a valid phone number"))}return t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(24),s=i(0),r=i(14);e.SelectableInputValidator=class extends n.AbstractValidator{constructor(){super()}setUpBindings(){this.binder.bind(this,"isValid",this.source,"isValid"),this.source.isValid=this.isValid;for(let t=0;t<this.source.collection.length;t++)this.binder.bind(this.source.collection.getItemAt(t),"selected",this,"validateOnChange")}getValidationErrors(){let t=new s.ArrayList;if(this.source.selectionRequired){let e,i=!1;for(let t=0;t<this.source.collection.length;t++)if(e=this.source.collection.getItemAt(t).name,this.source.collection.getItemAt(t).selected){i=!0;break}i||t.addItem(new r.ValidationError("selected","form.selectionRequired",e+" must have a selection."))}return t}}}])});
//# sourceMappingURL=lotusJS-UMD.js.map